// Generated by Haxe 4.0.0-rc.2+77068e10c
(function ($global) { "use strict";
var $hxClasses = {},$estr = function() { return js_Boot.__string_rec(this,''); },$hxEnums = $hxEnums || {},$_;
function $extend(from, fields) {
	var proto = Object.create(from);
	for (var name in fields) proto[name] = fields[name];
	if( fields.toString !== Object.prototype.toString ) proto.toString = fields.toString;
	return proto;
}
var Client = function() { };
$hxClasses["Client"] = Client;
Client.__name__ = true;
Client.main = function() {
	var store = new data_AppStore(new DeepState_$data_$AppState({ page : data_Page.Home, userId : null, users : null, groups : null, applications : null, invitations : null, songs : null}));
	store.load();
	store.subscribeObserver(ds_Observer.Partial(ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([""]),function(state) {
		m.redraw();
		return;
	}),store.get_state());
	m.mount(window.document.querySelector("#header"),new view_Userview(store));
	m.mount(window.document.querySelector("#nav"),new view_MenuView(store));
	m.mount(window.document.querySelector("#footer"),new view_FooterView(store));
	m.mount(window.document.querySelector("main"),new view_Pageview(store));
};
var DeepState = function() { };
$hxClasses["DeepState"] = DeepState;
DeepState.__name__ = true;
var DeepStateContainer = function(asset,observable) {
	this.observable = observable == null ? new ds_Observable() : observable;
	if(asset == null) {
		this.asset = null;
	} else {
		this.asset = ds_MiddlewareAccess.copy(asset,null,ds__$ImmutableArray_ImmutableArray_$Impl_$.concat(ds_MiddlewareAccess.middleware(asset),[$bind(this,this.updateMutableAsset)]));
		this.updateState({ type : "DeepStateContainer.new", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), value : asset.state}])});
	}
};
$hxClasses["DeepStateContainer"] = DeepStateContainer;
DeepStateContainer.__name__ = true;
DeepStateContainer.prototype = {
	get_state: function() {
		return this.asset.state;
	}
	,updateMutableAsset: function(asset,next,action) {
		var _gthis = this;
		return this.observable.observe(asset,function(a) {
			return _gthis.asset = next(a);
		},action);
	}
	,subscribeObserver: function(observer,immediateCall) {
		return this.observable.subscribeObserver(observer,immediateCall);
	}
	,updateState: function(action) {
		this.asset._updateState(action);
	}
	,__class__: DeepStateContainer
};
var EnclosedDeepStateContainer = function(encompassing,stateAccessor,statePath,observable) {
	DeepStateContainer.call(this,null,observable);
	this.encompassing = encompassing;
	this.stateAccessor = stateAccessor;
	this.statePath = statePath;
};
$hxClasses["EnclosedDeepStateContainer"] = EnclosedDeepStateContainer;
EnclosedDeepStateContainer.__name__ = true;
EnclosedDeepStateContainer.__super__ = DeepStateContainer;
EnclosedDeepStateContainer.prototype = $extend(DeepStateContainer.prototype,{
	get_state: function() {
		return this.stateAccessor();
	}
	,updateMutableAsset: function(asset,next,action) {
		return this.observable.observe(asset,next,action);
	}
	,updateState: function(action) {
		var tmp = this.encompassing;
		var action1 = action.type;
		var _g = [];
		var u = HxOverrides.iter(action.updates);
		while(u.hasNext()) {
			var u1 = u.next();
			_g.push({ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.concat(this.statePath,ds__$ImmutableArray_ImmutableArray_$Impl_$.toIterable(u1.path)), value : u1.value});
		}
		tmp.updateState({ type : action1, updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(_g)});
	}
	,__class__: EnclosedDeepStateContainer
});
var ds_gen_DeepState = function(state,stateTypes,stateType,middlewares) {
	if(state == null) {
		throw new js__$Boot_HaxeError("state is null");
	}
	this.state = state;
	this.stateTypes = stateTypes;
	this.stateType = stateType;
	this.middlewares = middlewares == null ? ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]) : middlewares;
};
$hxClasses["ds.gen.DeepState"] = ds_gen_DeepState;
ds_gen_DeepState.__name__ = true;
ds_gen_DeepState.prototype = {
	copyAsset: function(newState,middlewares) {
		throw new js__$Boot_HaxeError("DeepState.copyAsset must be overridden in subclass.");
	}
	,_createAndReplace: function(currentState,path,newValue) {
		var _gthis = this;
		var error = function() {
			throw new js__$Boot_HaxeError("Invalid DeepState update: " + Std.string(path) + " (" + Std.string(newValue) + ")");
		};
		var iter = HxOverrides.iter(path);
		var createNew = null;
		createNew = function(currentObject,curState) {
			if(!iter.hasNext()) {
				return newValue;
			} else {
				var _g = iter.next();
				switch(_g._hx_index) {
				case 0:
					var name = _g.name;
					switch(curState._hx_index) {
					case 10:
						var type = curState.type;
						var _this = _gthis.stateTypes;
						return createNew(currentObject,__map_reserved[type] != null ? _this.getReserved(type) : _this.h[type]);
					case 11:
						var fields = curState.fields;
						var data = Reflect.copy(currentObject);
						data[name] = createNew(Reflect.field(currentObject,name),__map_reserved[name] != null ? fields.getReserved(name) : fields.h[name]);
						return data;
					case 12:
						var fields1 = curState.fields;
						var cls = curState.cls;
						var data1 = { };
						var f = fields1.keys();
						while(f.hasNext()) {
							var f1 = f.next();
							data1[f1] = Reflect.field(currentObject,f1);
						}
						data1[name] = createNew(Reflect.field(currentObject,name),__map_reserved[name] != null ? fields1.getReserved(name) : fields1.h[name]);
						return Type.createInstance($hxClasses[cls],[data1]);
					default:
						error();
					}
					break;
				case 1:
					var index = _g.index;
					if(curState._hx_index == 13) {
						var newArray = currentObject.slice();
						newArray[index] = createNew(newArray[index],curState.type);
						return newArray;
					} else {
						error();
					}
					break;
				case 2:
					var key = _g.key;
					if(curState._hx_index == 14) {
						var currentMap = currentObject;
						var value = currentMap.get(key);
						return ds__$ImmutableMap_ImmutableMap_$Impl_$.set(currentMap,key,createNew(value,curState.type));
					} else {
						error();
					}
					break;
				}
			}
			return null;
		};
		return createNew(currentState,this.stateType);
	}
	,_updateState: function(action) {
		var _gthis = this;
		var dispatch = function(action1) {
			var newState = _gthis.state;
			var a = HxOverrides.iter(action1.updates);
			while(a.hasNext()) {
				var a1 = a.next();
				var path = [a1.path];
				var newValue = [a1.value];
				var _gthis1 = [_gthis];
				var error = [(function(newValue1,path1) {
					return function() {
						throw new js__$Boot_HaxeError("Invalid DeepState update: " + Std.string(path1[0]) + " (" + Std.string(newValue1[0]) + ")");
					};
				})(newValue,path)];
				var createNew = [null];
				var newState1 = (function(createNew1,iter,error1,_gthis2,newValue2) {
					return function(currentObject,curState) {
						if(!iter[0].hasNext()) {
							return newValue2[0];
						} else {
							var _g = iter[0].next();
							switch(_g._hx_index) {
							case 0:
								var name = _g.name;
								switch(curState._hx_index) {
								case 10:
									var type = curState.type;
									var _this = _gthis2[0].stateTypes;
									return createNew1[0](currentObject,__map_reserved[type] != null ? _this.getReserved(type) : _this.h[type]);
								case 11:
									var fields = curState.fields;
									var data = Reflect.copy(currentObject);
									data[name] = createNew1[0](Reflect.field(currentObject,name),__map_reserved[name] != null ? fields.getReserved(name) : fields.h[name]);
									return data;
								case 12:
									var fields1 = curState.fields;
									var cls = curState.cls;
									var data1 = { };
									var f = fields1.keys();
									while(f.hasNext()) {
										var f1 = f.next();
										data1[f1] = Reflect.field(currentObject,f1);
									}
									data1[name] = createNew1[0](Reflect.field(currentObject,name),__map_reserved[name] != null ? fields1.getReserved(name) : fields1.h[name]);
									return Type.createInstance($hxClasses[cls],[data1]);
								default:
									error1[0]();
								}
								break;
							case 1:
								var index = _g.index;
								if(curState._hx_index == 13) {
									var newArray = currentObject.slice();
									newArray[index] = createNew1[0](newArray[index],curState.type);
									return newArray;
								} else {
									error1[0]();
								}
								break;
							case 2:
								var key = _g.key;
								if(curState._hx_index == 14) {
									var currentMap = currentObject;
									return ds__$ImmutableMap_ImmutableMap_$Impl_$.set(currentMap,key,createNew1[0](currentMap.get(key),curState.type));
								} else {
									error1[0]();
								}
								break;
							}
						}
						return null;
					};
				})(createNew,[HxOverrides.iter(path[0])],error,_gthis1,newValue);
				createNew[0] = newState1;
				newState = createNew[0](newState,_gthis.stateType);
			}
			return _gthis.copyAsset(newState,_gthis.middlewares);
		};
		var m1 = HxOverrides.iter(ds__$ImmutableArray_ImmutableArray_$Impl_$.reverse(this.middlewares));
		while(m1.hasNext()) dispatch = (function(a2,a11,f2) {
			return function(a3) {
				return f2[0](a11[0],a2[0],a3);
			};
		})([dispatch],[this],[m1.next()]);
		return dispatch(action);
	}
	,__class__: ds_gen_DeepState
};
var ds_StateObjectType = $hxEnums["ds.StateObjectType"] = { __ename__ : true, __constructs__ : ["Bool","String","Int","Int32","Int64","Float","Date","Enumm","ImmutableList","ImmutableJson","Recursive","Anonymous","Instance","Array","Map"]
	,Bool: {_hx_index:0,__enum__:"ds.StateObjectType",toString:$estr}
	,String: {_hx_index:1,__enum__:"ds.StateObjectType",toString:$estr}
	,Int: {_hx_index:2,__enum__:"ds.StateObjectType",toString:$estr}
	,Int32: {_hx_index:3,__enum__:"ds.StateObjectType",toString:$estr}
	,Int64: {_hx_index:4,__enum__:"ds.StateObjectType",toString:$estr}
	,Float: {_hx_index:5,__enum__:"ds.StateObjectType",toString:$estr}
	,Date: {_hx_index:6,__enum__:"ds.StateObjectType",toString:$estr}
	,Enumm: {_hx_index:7,__enum__:"ds.StateObjectType",toString:$estr}
	,ImmutableList: {_hx_index:8,__enum__:"ds.StateObjectType",toString:$estr}
	,ImmutableJson: {_hx_index:9,__enum__:"ds.StateObjectType",toString:$estr}
	,Recursive: ($_=function(type) { return {_hx_index:10,type:type,__enum__:"ds.StateObjectType",toString:$estr}; },$_.__params__ = ["type"],$_)
	,Anonymous: ($_=function(fields) { return {_hx_index:11,fields:fields,__enum__:"ds.StateObjectType",toString:$estr}; },$_.__params__ = ["fields"],$_)
	,Instance: ($_=function(cls,fields) { return {_hx_index:12,cls:cls,fields:fields,__enum__:"ds.StateObjectType",toString:$estr}; },$_.__params__ = ["cls","fields"],$_)
	,Array: ($_=function(type) { return {_hx_index:13,type:type,__enum__:"ds.StateObjectType",toString:$estr}; },$_.__params__ = ["type"],$_)
	,Map: ($_=function(type) { return {_hx_index:14,type:type,__enum__:"ds.StateObjectType",toString:$estr}; },$_.__params__ = ["type"],$_)
};
var DeepState_$data_$AppState = function(initialState,middlewares) {
	var _this = DeepState_$data_$AppState._stateTypes;
	ds_gen_DeepState.call(this,initialState,DeepState_$data_$AppState._stateTypes,__map_reserved["data.AppState"] != null ? _this.getReserved("data.AppState") : _this.h["data.AppState"],middlewares);
};
$hxClasses["DeepState_data_AppState"] = DeepState_$data_$AppState;
DeepState_$data_$AppState.__name__ = true;
DeepState_$data_$AppState.__super__ = ds_gen_DeepState;
DeepState_$data_$AppState.prototype = $extend(ds_gen_DeepState.prototype,{
	updateState: function(action) {
		return js_Boot.__cast(this._updateState(action) , DeepState_$data_$AppState);
	}
	,copyAsset: function(newState,middlewares) {
		return new DeepState_$data_$AppState(newState == null ? this.state : newState,middlewares == null ? this.middlewares : middlewares);
	}
	,__class__: DeepState_$data_$AppState
});
var EReg = function(r,opt) {
	this.r = new RegExp(r,opt.split("u").join(""));
};
$hxClasses["EReg"] = EReg;
EReg.__name__ = true;
EReg.prototype = {
	match: function(s) {
		if(this.r.global) {
			this.r.lastIndex = 0;
		}
		this.r.m = this.r.exec(s);
		this.r.s = s;
		return this.r.m != null;
	}
	,__class__: EReg
};
var HxOverrides = function() { };
$hxClasses["HxOverrides"] = HxOverrides;
HxOverrides.__name__ = true;
HxOverrides.remove = function(a,obj) {
	var i = a.indexOf(obj);
	if(i == -1) {
		return false;
	}
	a.splice(i,1);
	return true;
};
HxOverrides.iter = function(a) {
	return { cur : 0, arr : a, hasNext : function() {
		return this.cur < this.arr.length;
	}, next : function() {
		return this.arr[this.cur++];
	}};
};
var Lambda = function() { };
$hxClasses["Lambda"] = Lambda;
Lambda.__name__ = true;
Lambda.array = function(it) {
	var a = [];
	var i = $getIterator(it);
	while(i.hasNext()) a.push(i.next());
	return a;
};
Lambda.list = function(it) {
	var l = new haxe_ds_List();
	var i = $getIterator(it);
	while(i.hasNext()) l.add(i.next());
	return l;
};
Lambda.has = function(it,elt) {
	var x = $getIterator(it);
	while(x.hasNext()) if(x.next() == elt) {
		return true;
	}
	return false;
};
Lambda.exists = function(it,f) {
	var x = $getIterator(it);
	while(x.hasNext()) if(f(x.next())) {
		return true;
	}
	return false;
};
Lambda.foreach = function(it,f) {
	var x = $getIterator(it);
	while(x.hasNext()) if(!f(x.next())) {
		return false;
	}
	return true;
};
Lambda.iter = function(it,f) {
	var x = $getIterator(it);
	while(x.hasNext()) f(x.next());
};
Lambda.filter = function(it,f) {
	var _g = [];
	var x = $getIterator(it);
	while(x.hasNext()) {
		var x1 = x.next();
		if(f(x1)) {
			_g.push(x1);
		}
	}
	return _g;
};
Lambda.fold = function(it,f,first) {
	var x = $getIterator(it);
	while(x.hasNext()) first = f(x.next(),first);
	return first;
};
Lambda.count = function(it,pred) {
	var n = 0;
	if(pred == null) {
		var _ = $getIterator(it);
		while(_.hasNext()) {
			_.next();
			++n;
		}
	} else {
		var x = $getIterator(it);
		while(x.hasNext()) if(pred(x.next())) {
			++n;
		}
	}
	return n;
};
Lambda.empty = function(it) {
	return !$getIterator(it).hasNext();
};
Lambda.indexOf = function(it,v) {
	var i = 0;
	var v2 = $getIterator(it);
	while(v2.hasNext()) {
		if(v == v2.next()) {
			return i;
		}
		++i;
	}
	return -1;
};
Lambda.find = function(it,f) {
	var v = $getIterator(it);
	while(v.hasNext()) {
		var v1 = v.next();
		if(f(v1)) {
			return v1;
		}
	}
	return null;
};
Lambda.concat = function(a,b) {
	var l = [];
	var x = $getIterator(a);
	while(x.hasNext()) l.push(x.next());
	var x1 = $getIterator(b);
	while(x1.hasNext()) l.push(x1.next());
	return l;
};
Math.__name__ = true;
var Reflect = function() { };
$hxClasses["Reflect"] = Reflect;
Reflect.__name__ = true;
Reflect.field = function(o,field) {
	try {
		return o[field];
	} catch( e ) {
		return null;
	}
};
Reflect.fields = function(o) {
	var a = [];
	if(o != null) {
		var hasOwnProperty = Object.prototype.hasOwnProperty;
		for( var f in o ) {
		if(f != "__id__" && f != "hx__closures__" && hasOwnProperty.call(o,f)) {
			a.push(f);
		}
		}
	}
	return a;
};
Reflect.copy = function(o) {
	var o2 = { };
	var _g = 0;
	var _g1 = Reflect.fields(o);
	while(_g < _g1.length) {
		var f = _g1[_g];
		++_g;
		o2[f] = Reflect.field(o,f);
	}
	return o2;
};
var Std = function() { };
$hxClasses["Std"] = Std;
Std.__name__ = true;
Std.string = function(s) {
	return js_Boot.__string_rec(s,"");
};
var Type = function() { };
$hxClasses["Type"] = Type;
Type.__name__ = true;
Type.createInstance = function(cl,args) {
	return new (Function.prototype.bind.apply(cl,[null].concat(args)));
};
var cx_ArrayItems = function() { };
$hxClasses["cx.ArrayItems"] = cx_ArrayItems;
cx_ArrayItems.__name__ = true;
cx_ArrayItems.first = function(array) {
	return array[0];
};
cx_ArrayItems.frst = function(array) {
	return array[0];
};
cx_ArrayItems.isFirst = function(array,item) {
	return array[0] == item;
};
cx_ArrayItems.last = function(array) {
	return array[array.length - 1];
};
cx_ArrayItems.lst = function(array) {
	return array[array.length - 1];
};
cx_ArrayItems.isLast = function(array,item) {
	return array[array.length - 1] == item;
};
cx_ArrayItems.secondLast = function(array) {
	return array[array.length - 2];
};
cx_ArrayItems.second = function(array) {
	return array[1];
};
cx_ArrayItems.third = function(array) {
	return array[2];
};
cx_ArrayItems.fourth = function(array) {
	return array[3];
};
cx_ArrayItems.fifth = function(array) {
	return array[4];
};
cx_ArrayItems.sixth = function(array) {
	return array[5];
};
cx_ArrayItems.seventh = function(array) {
	return array[6];
};
cx_ArrayItems.eighth = function(array) {
	return array[7];
};
cx_ArrayItems.nineth = function(array) {
	return array[8];
};
var cx_Random = function() { };
$hxClasses["cx.Random"] = cx_Random;
cx_Random.__name__ = true;
cx_Random.int = function(from,to) {
	return from + Math.floor((to - from + 1) * Math.random());
};
cx_Random.setFromArray = function(a,length) {
	if(length > a.length) {
		throw new js__$Boot_HaxeError("Set length can not be greater then array length");
	}
	var arr = a.slice();
	var res = [];
	var _g = 0;
	while(_g < length) {
		++_g;
		var pick = arr[Math.floor((arr.length - 1 + 1) * Math.random())];
		res.push(pick);
		HxOverrides.remove(arr,pick);
	}
	return res;
};
cx_Random.fromArray = function(arr) {
	if(arr != null && arr.length > 0) {
		return arr[Math.floor((arr.length - 1 + 1) * Math.random())];
	} else {
		return null;
	}
};
cx_Random.percent = function(val) {
	if(val <= 0) {
		return false;
	}
	if(val >= 100) {
		return true;
	}
	return val > Math.random() * 100;
};
var cx_Validation = function() { };
$hxClasses["cx.Validation"] = cx_Validation;
cx_Validation.__name__ = true;
cx_Validation.asFirstname = function(s,length) {
	if(length == null) {
		length = 2;
	}
	if(s.length < length) {
		throw new js__$Boot_HaxeError("First name is too short, must be " + length + " chars");
	}
	return s;
};
cx_Validation.asLastname = function(s,length) {
	if(length == null) {
		length = 3;
	}
	if(s.length < length) {
		throw new js__$Boot_HaxeError("Lastname is too short, must be " + length + " chars");
	}
	return s;
};
cx_Validation.asPassword = function(s,length) {
	if(length == null) {
		length = 3;
	}
	if(s.length < length) {
		throw new js__$Boot_HaxeError("Password is too short, must be " + length + " chars");
	}
	return s;
};
cx_Validation.asEmail = function(email) {
	if(!cx_Validation.emailReg.match(email)) {
		throw new js__$Boot_HaxeError("EmailAddress \"" + email + "\" is invalid");
	}
	return email;
};
var data_AppStore = function(initstate) {
	DeepStateContainer.call(this,initstate);
};
$hxClasses["data.AppStore"] = data_AppStore;
data_AppStore.__name__ = true;
data_AppStore.__super__ = DeepStateContainer;
data_AppStore.prototype = $extend(DeepStateContainer.prototype,{
	save: function(tag) {
		if(tag == null) {
			tag = "store";
		}
		window.localStorage.setItem(tag,JSON.stringify(this.get_state()));
	}
	,load: function(tag) {
		if(tag == null) {
			tag = "store";
		}
		try {
			var stateObj = JSON.parse(window.localStorage.getItem(tag));
			if(stateObj == null) {
				this.resetToDefaultData();
			} else {
				this.updateState({ type : "AppStore.load", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), value : stateObj},{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([ds_PathAccess.Field("page")]), value : data_Page.Home}])});
			}
		} catch( e ) {
			js_Browser.alert("Could not load state object form localStorage! " + Std.string(((e) instanceof js__$Boot_HaxeError) ? e.val : e));
		}
	}
	,addUser: function(user) {
		try {
			if(ds__$ImmutableArray_ImmutableArray_$Impl_$.filter(this.get_state().users,function(u) {
				return u.username == user.username;
			}).length > 0) {
				throw new js__$Boot_HaxeError("The username " + user.username + " already exists!");
			}
			this.updateState({ type : "AppStore.addUser", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([ds_PathAccess.Field("users")]), value : ds__$ImmutableArray_ImmutableArray_$Impl_$.push(ds__$ImmutableArray_ImmutableArray_$Impl_$.copy(this.get_state().users),user)}])});
			this.save();
		} catch( e ) {
			js_Browser.alert(((e) instanceof js__$Boot_HaxeError) ? e.val : e);
		}
	}
	,tryLogin: function(tryUsername,tryPassword) {
		var _gthis = this;
		try {
			console.log("src/data/AppStore.hx:70:",tryUsername);
			console.log("src/data/AppStore.hx:71:",this.get_state().users.length);
			var foundUser;
			var _g = ds__$ImmutableArray_ImmutableArray_$Impl_$.first(ds__$ImmutableArray_ImmutableArray_$Impl_$.filter(this.get_state().users,function(u) {
				return u.username == tryUsername;
			}));
			foundUser = _g._hx_index == 0 ? _g.v : null;
			if(foundUser == null) {
				throw new js__$Boot_HaxeError("User " + tryUsername + " does not exist");
			}
			if(foundUser.password != tryPassword) {
				throw new js__$Boot_HaxeError("Password is wrong " + Std.string(foundUser) + " : " + foundUser.password + " " + tryPassword);
			}
			haxe_Timer.delay(function() {
				_gthis.updateState({ type : "AppStore.tryLogin", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([ds_PathAccess.Field("userId")]), value : foundUser.username}])});
				_gthis.save();
				return;
			},100 + Math.floor(401 * Math.random()));
		} catch( e ) {
			js_Browser.alert(((e) instanceof js__$Boot_HaxeError) ? e.val : e);
			this.logout();
		}
	}
	,logout: function() {
		this.updateState({ type : "AppStore.logout", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([ds_PathAccess.Field("userId")]), value : null}])});
		this.save();
	}
	,addSong: function(title) {
		this.updateState({ type : "AppStore.addSong", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([ds_PathAccess.Field("songs")]), value : ds__$ImmutableArray_ImmutableArray_$Impl_$.push(this.get_state().songs,{ title : title, category : data_SongCategory.Free, producer : data_SongProducer.Korakademin})}])});
	}
	,getUser: function(findUsername) {
		if(findUsername == null) {
			findUsername = this.get_state().userId;
		}
		var _g = ds__$ImmutableArray_ImmutableArray_$Impl_$.first(ds__$ImmutableArray_ImmutableArray_$Impl_$.filter(this.get_state().users,function(u) {
			return u.username == findUsername;
		}));
		if(_g._hx_index == 0) {
			return _g.v;
		} else {
			return null;
		}
	}
	,getGroup: function(findGroupname) {
		var _g = ds__$ImmutableArray_ImmutableArray_$Impl_$.first(ds__$ImmutableArray_ImmutableArray_$Impl_$.filter(this.get_state().groups,function(group) {
			return group.name.toLowerCase() == findGroupname.toLowerCase();
		}));
		if(_g._hx_index == 0) {
			return _g.v;
		} else {
			return null;
		}
	}
	,getSong: function(findSongtitle) {
		var _g = ds__$ImmutableArray_ImmutableArray_$Impl_$.first(ds__$ImmutableArray_ImmutableArray_$Impl_$.filter(this.get_state().songs,function(song) {
			return song.title.toLowerCase() == findSongtitle.toLowerCase();
		}));
		if(_g._hx_index == 0) {
			return _g.v;
		} else {
			return null;
		}
	}
	,addApplication: function(item) {
		try {
			if(ds__$ImmutableArray_ImmutableArray_$Impl_$.filter(this.get_state().applications,function(a) {
				if(a.groupname == item.groupname) {
					return a.username == item.username;
				} else {
					return false;
				}
			}).length > 0) {
				throw new js__$Boot_HaxeError("Ansökan till denna grupp finns redan!");
			}
			this.updateState({ type : "AppStore.addApplication", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([ds_PathAccess.Field("applications")]), value : ds__$ImmutableArray_ImmutableArray_$Impl_$.push(this.get_state().applications,item)}])});
			this.save();
		} catch( e ) {
			js_Browser.alert(((e) instanceof js__$Boot_HaxeError) ? e.val : e);
		}
	}
	,addUsernameToGroupFromInvitation: function(application) {
		try {
			var group = this.getGroup(application.groupname);
			if(group == null) {
				throw new js__$Boot_HaxeError("Can not resolve application to group " + application.groupname);
			}
			if(ds__$ImmutableArray_ImmutableArray_$Impl_$.filter(group.members,function(member) {
				return member == application.username;
			}).length > 0) {
				throw new js__$Boot_HaxeError("User " + application.username + " is already a member of " + application.groupname);
			}
			var groupIndex = ds__$ImmutableArray_ImmutableArray_$Impl_$.indexOf(this.get_state().groups,group);
			var members = ds__$ImmutableArray_ImmutableArray_$Impl_$.push(group.members,application.username);
			this.updateState({ type : "AppStore.addUsernameToGroupFromInvitation", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([ds_PathAccess.Field("groups"),ds_PathAccess.Array(groupIndex),ds_PathAccess.Field("members")]), value : members},{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([ds_PathAccess.Field("invitations")]), value : ds__$ImmutableArray_ImmutableArray_$Impl_$.filter(this.get_state().invitations,function(app) {
				if(app.groupname != application.groupname) {
					return app.username != application.username;
				} else {
					return false;
				}
			})}])});
			this.save();
		} catch( e ) {
			js_Browser.alert(((e) instanceof js__$Boot_HaxeError) ? e.val : e);
		}
	}
	,removeApplication: function(item) {
		try {
			this.updateState({ type : "AppStore.removeApplication", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([ds_PathAccess.Field("applications")]), value : ds__$ImmutableArray_ImmutableArray_$Impl_$.remove(this.get_state().applications,item)}])});
			this.save();
		} catch( e ) {
			js_Browser.alert(((e) instanceof js__$Boot_HaxeError) ? e.val : e);
		}
	}
	,addInvitation: function(item) {
		try {
			cx_Validation.asEmail(item.username);
			if(this.isMemberOfGroup(item.username,item.groupname)) {
				throw new js__$Boot_HaxeError("" + item.username + " är redan medlem i " + item.groupname);
			}
			if(ds__$ImmutableArray_ImmutableArray_$Impl_$.filter(this.get_state().invitations,function(a) {
				if(a.groupname == item.groupname) {
					return a.username == item.username;
				} else {
					return false;
				}
			}).length > 0) {
				throw new js__$Boot_HaxeError("Ansökan till " + item.groupname + " från " + item.username + " finns redan!");
			}
			this.updateState({ type : "AppStore.addInvitation", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([ds_PathAccess.Field("invitations")]), value : ds__$ImmutableArray_ImmutableArray_$Impl_$.push(this.get_state().invitations,item)}])});
			this.save();
		} catch( e ) {
			js_Browser.alert(((e) instanceof js__$Boot_HaxeError) ? e.val : e);
		}
	}
	,removeInvitation: function(item) {
		try {
			this.updateState({ type : "AppStore.removeInvitation", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([ds_PathAccess.Field("invitations")]), value : ds__$ImmutableArray_ImmutableArray_$Impl_$.remove(this.get_state().invitations,item)}])});
			this.save();
		} catch( e ) {
			js_Browser.alert(((e) instanceof js__$Boot_HaxeError) ? e.val : e);
		}
	}
	,changeApplicationStatus: function(item,newStatus) {
		try {
			var invitationIndex = ds__$ImmutableArray_ImmutableArray_$Impl_$.indexOf(this.get_state().invitations,item);
			console.log("src/data/AppStore.hx:246:",invitationIndex);
			this.updateState({ type : "AppStore.changeApplicationStatus", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([ds_PathAccess.Field("invitations"),ds_PathAccess.Array(invitationIndex)]), value : { groupname : item.groupname, username : item.username, status : newStatus}}])});
			console.log("src/data/AppStore.hx:255:",this.get_state().invitations);
			this.save();
		} catch( e ) {
			js_Browser.alert(((e) instanceof js__$Boot_HaxeError) ? e.val : e);
		}
	}
	,isMemberOfGroup: function(username,groupname) {
		if(ds__$ImmutableArray_ImmutableArray_$Impl_$.filter(this.getGroup(groupname).members,function(member) {
			return member == username;
		}).length > 0) {
			return true;
		}
		return false;
	}
	,userExists: function(username) {
		return ds__$ImmutableArray_ImmutableArray_$Impl_$.filter(this.get_state().users,function(user) {
			return user.username == username;
		}).length == 1;
	}
	,resetToDefaultData: function() {
		console.log("src/data/AppStore.hx:287:","Reset data");
		this.updateState({ type : "do reset", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), value : { page : data_Page.Home, userId : null, users : data_Default.users(), groups : data_Default.groups(), applications : data_Default.applications(), invitations : data_Default.invitations(), songs : data_Default.songs()}}])});
		this.save();
	}
	,__class__: data_AppStore
});
var data_GroupApplicationStatus = $hxEnums["data.GroupApplicationStatus"] = { __ename__ : true, __constructs__ : ["Start","Pending","Rejected"]
	,Start: {_hx_index:0,__enum__:"data.GroupApplicationStatus",toString:$estr}
	,Pending: {_hx_index:1,__enum__:"data.GroupApplicationStatus",toString:$estr}
	,Rejected: {_hx_index:2,__enum__:"data.GroupApplicationStatus",toString:$estr}
};
var data_SongCategory = $hxEnums["data.SongCategory"] = { __ename__ : true, __constructs__ : ["Free","Protected","Commercial"]
	,Free: {_hx_index:0,__enum__:"data.SongCategory",toString:$estr}
	,Protected: {_hx_index:1,__enum__:"data.SongCategory",toString:$estr}
	,Commercial: {_hx_index:2,__enum__:"data.SongCategory",toString:$estr}
};
var data_SongProducer = $hxEnums["data.SongProducer"] = { __ename__ : true, __constructs__ : ["Korakademin","Other"]
	,Korakademin: {_hx_index:0,__enum__:"data.SongProducer",toString:$estr}
	,Other: {_hx_index:1,__enum__:"data.SongProducer",toString:$estr}
};
var data_SongFilter = $hxEnums["data.SongFilter"] = { __ename__ : true, __constructs__ : ["Search","Category","Producer","Group","LimitNumber"]
	,Search: ($_=function(str) { return {_hx_index:0,str:str,__enum__:"data.SongFilter",toString:$estr}; },$_.__params__ = ["str"],$_)
	,Category: ($_=function(cat) { return {_hx_index:1,cat:cat,__enum__:"data.SongFilter",toString:$estr}; },$_.__params__ = ["cat"],$_)
	,Producer: ($_=function(prod) { return {_hx_index:2,prod:prod,__enum__:"data.SongFilter",toString:$estr}; },$_.__params__ = ["prod"],$_)
	,Group: ($_=function(groupname) { return {_hx_index:3,groupname:groupname,__enum__:"data.SongFilter",toString:$estr}; },$_.__params__ = ["groupname"],$_)
	,LimitNumber: ($_=function(max) { return {_hx_index:4,max:max,__enum__:"data.SongFilter",toString:$estr}; },$_.__params__ = ["max"],$_)
};
var data_HomeCell = $hxEnums["data.HomeCell"] = { __ename__ : true, __constructs__ : ["Image","Title","Info","Button","Songlist","SearchChoir","ListGroupMembers","InviteGroupMembers","BuySongs"]
	,Image: ($_=function(url) { return {_hx_index:0,url:url,__enum__:"data.HomeCell",toString:$estr}; },$_.__params__ = ["url"],$_)
	,Title: ($_=function(title) { return {_hx_index:1,title:title,__enum__:"data.HomeCell",toString:$estr}; },$_.__params__ = ["title"],$_)
	,Info: ($_=function(info) { return {_hx_index:2,info:info,__enum__:"data.HomeCell",toString:$estr}; },$_.__params__ = ["info"],$_)
	,Button: ($_=function(label,onclick) { return {_hx_index:3,label:label,onclick:onclick,__enum__:"data.HomeCell",toString:$estr}; },$_.__params__ = ["label","onclick"],$_)
	,Songlist: ($_=function(title,songs,filter) { return {_hx_index:4,title:title,songs:songs,filter:filter,__enum__:"data.HomeCell",toString:$estr}; },$_.__params__ = ["title","songs","filter"],$_)
	,SearchChoir: {_hx_index:5,__enum__:"data.HomeCell",toString:$estr}
	,ListGroupMembers: ($_=function(groupname) { return {_hx_index:6,groupname:groupname,__enum__:"data.HomeCell",toString:$estr}; },$_.__params__ = ["groupname"],$_)
	,InviteGroupMembers: ($_=function(groupname) { return {_hx_index:7,groupname:groupname,__enum__:"data.HomeCell",toString:$estr}; },$_.__params__ = ["groupname"],$_)
	,BuySongs: {_hx_index:8,__enum__:"data.HomeCell",toString:$estr}
};
var data_Page = $hxEnums["data.Page"] = { __ename__ : true, __constructs__ : ["Home","Other","CreateUser"]
	,Home: {_hx_index:0,__enum__:"data.Page",toString:$estr}
	,Other: {_hx_index:1,__enum__:"data.Page",toString:$estr}
	,CreateUser: {_hx_index:2,__enum__:"data.Page",toString:$estr}
};
var data_Default = function() { };
$hxClasses["data.Default"] = data_Default;
data_Default.__name__ = true;
data_Default.users = function() {
	return [{ firstname : "Adam", lastname : "Adamsson", username : "adam@adam.se", password : "adam1", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(["Kommersiell06","Kommersiell07"])},{ firstname : "Beda", lastname : "Bensin", username : "beda@bensin.se", password : "beda", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])},{ firstname : "Caesar", lastname : "Citrus", username : "caesar@citrus.se", password : "caesar", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])},{ firstname : "Avledare", lastname : "Jonsson", username : "avledare@kor.se", password : "avledare", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])},{ firstname : "Örkel1", lastname : "Örkelsson", username : "orkel1@orkel.se", password : "orkel1", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])},{ firstname : "Örkel2", lastname : "Örkelsson", username : "orkel2@orkel.se", password : "orkel2", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])},{ firstname : "Örkel3", lastname : "Örkelsson", username : "orkel3@orkel.se", password : "orkel3", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])},{ firstname : "Örkel4", lastname : "Örkelsson", username : "orkel4@orkel.se", password : "orkel4", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])},{ firstname : "Bro1", lastname : "Brorsson", username : "bro1@bro.se", password : "bro1", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])},{ firstname : "Bro2", lastname : "Brorsson", username : "bro2@bro.se", password : "bro2", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])},{ firstname : "Bro3", lastname : "Brorsson", username : "bro3@bro.se", password : "bro3", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])},{ firstname : "Bro4", lastname : "Brorsson", username : "bro4@bro.se", password : "bro4", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])}];
};
data_Default.applications = function() {
	return [{ username : "beda@bensin.se", groupname : "Örkelhåla kyrkokör", status : data_GroupApplicationStatus.Start}];
};
data_Default.invitations = function() {
	return [{ username : "beda@bensin.se", groupname : "Avunda Kyrkokör", status : data_GroupApplicationStatus.Pending}];
};
data_Default.groups = function() {
	return [{ name : "Örkelhåla kyrkokör", info : "Soli deo gloria. Plus vår körledare.", admins : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(["orkel1@orkel.se"]), members : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(["adam@adam.se","orkel1@orkel.se","orkel2@orkel.se","orkel3@orkel.se"]), sensus : true, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(["Sensus01","Sensus02","Sensus03"])},{ name : "Bromölla Bandidos", info : "Vi sjunger - ni pröjsar!", admins : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), members : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), sensus : true, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(["Kommersiell01","Sensus01"])},{ name : "Lingonbergens sångfåglar", info : "Vi trallar så glatt! Vill du va me?", admins : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), members : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), sensus : true, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(["Kommersiell01","Sensus01"])},{ name : "Avunda Kyrkokör", info : "Ju mer förr, desto bättre!", admins : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(["avledare@kor.se"]), members : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), sensus : true, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(["Kommersiell01","Sensus01"])},{ name : "Nya kören, Hässleholm", info : "Information...", admins : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), members : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), sensus : true, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(["Kommersiell01","Sensus01"])},{ name : "Nya kören, Hallandsåsen", info : "Information...", admins : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), members : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), sensus : true, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(["Kommersiell01","Sensus01"])}];
};
data_Default.songs = function() {
	return [{ title : "Ave veum corpus", category : data_SongCategory.Free, producer : data_SongProducer.Korakademin},{ title : "Kommersiell titel", category : data_SongCategory.Commercial, producer : data_SongProducer.Other},{ title : "Gratis01", category : data_SongCategory.Free, producer : data_SongProducer.Korakademin},{ title : "Gratis02", category : data_SongCategory.Free, producer : data_SongProducer.Korakademin},{ title : "Gratis03", category : data_SongCategory.Free, producer : data_SongProducer.Korakademin},{ title : "Gratis04", category : data_SongCategory.Free, producer : data_SongProducer.Korakademin},{ title : "Gratis05", category : data_SongCategory.Free, producer : data_SongProducer.Korakademin},{ title : "Gratis06", category : data_SongCategory.Free, producer : data_SongProducer.Other},{ title : "Gratis07", category : data_SongCategory.Free, producer : data_SongProducer.Other},{ title : "Gratis08", category : data_SongCategory.Free, producer : data_SongProducer.Other},{ title : "Gratis09", category : data_SongCategory.Free, producer : data_SongProducer.Other},{ title : "Gratis10", category : data_SongCategory.Free, producer : data_SongProducer.Other},{ title : "Gratis11", category : data_SongCategory.Free, producer : data_SongProducer.Other},{ title : "Kommersiell01", category : data_SongCategory.Commercial, producer : data_SongProducer.Other},{ title : "Kommersiell02", category : data_SongCategory.Commercial, producer : data_SongProducer.Other},{ title : "Kommersiell03", category : data_SongCategory.Commercial, producer : data_SongProducer.Other},{ title : "Kommersiell04", category : data_SongCategory.Commercial, producer : data_SongProducer.Other},{ title : "Kommersiell05", category : data_SongCategory.Commercial, producer : data_SongProducer.Other},{ title : "Kommersiell06", category : data_SongCategory.Commercial, producer : data_SongProducer.Other},{ title : "Kommersiell07", category : data_SongCategory.Commercial, producer : data_SongProducer.Other},{ title : "Kommersiell08", category : data_SongCategory.Commercial, producer : data_SongProducer.Other},{ title : "Sensus01", category : data_SongCategory.Commercial, producer : data_SongProducer.Korakademin},{ title : "Sensus02", category : data_SongCategory.Commercial, producer : data_SongProducer.Korakademin},{ title : "Sensus03", category : data_SongCategory.Commercial, producer : data_SongProducer.Korakademin},{ title : "Sensus04", category : data_SongCategory.Commercial, producer : data_SongProducer.Korakademin},{ title : "Sensus05", category : data_SongCategory.Commercial, producer : data_SongProducer.Korakademin}];
};
var ds_PathAccess = $hxEnums["ds.PathAccess"] = { __ename__ : true, __constructs__ : ["Field","Array","Map"]
	,Field: ($_=function(name) { return {_hx_index:0,name:name,__enum__:"ds.PathAccess",toString:$estr}; },$_.__params__ = ["name"],$_)
	,Array: ($_=function(index) { return {_hx_index:1,index:index,__enum__:"ds.PathAccess",toString:$estr}; },$_.__params__ = ["index"],$_)
	,Map: ($_=function(key) { return {_hx_index:2,key:key,__enum__:"ds.PathAccess",toString:$estr}; },$_.__params__ = ["key"],$_)
};
var ds__$ImmutableArray_ImmutableArray_$Impl_$ = {};
$hxClasses["ds._ImmutableArray.ImmutableArray_Impl_"] = ds__$ImmutableArray_ImmutableArray_$Impl_$;
ds__$ImmutableArray_ImmutableArray_$Impl_$.__name__ = true;
ds__$ImmutableArray_ImmutableArray_$Impl_$.arrayAccess = function(this1,key) {
	return this1[key];
};
ds__$ImmutableArray_ImmutableArray_$Impl_$._new = function(array) {
	return array;
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray = function(array) {
	return array.slice();
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.toIterable = function(this1) {
	return this1;
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.copy = function(this1) {
	return this1.slice();
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.insert = function(this1,pos,x) {
	var newArray = this1.slice();
	newArray.splice(pos,0,x);
	return ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(newArray);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.pop = function(this1) {
	var newArray = this1.slice();
	newArray.pop();
	return ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(newArray);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.push = function(this1,x) {
	var newArray = this1.slice();
	newArray.push(x);
	return ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(newArray);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.remove = function(this1,x) {
	var newArray = this1.slice();
	if(HxOverrides.remove(newArray,x)) {
		return ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(newArray);
	} else {
		return this1;
	}
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.resize = function(this1,len) {
	var newArray = this1.slice();
	newArray.length = len;
	return ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(newArray);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.reverse = function(this1) {
	var newArray = this1.slice();
	newArray.reverse();
	return ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(newArray);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.shift = function(this1) {
	var newArray = this1.slice();
	newArray.shift();
	return ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(newArray);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.slice = function(this1,pos,end) {
	return this1.slice(pos,end);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.sort = function(this1,f) {
	var newArray = this1.slice();
	newArray.sort(f);
	return ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(newArray);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.splice = function(this1,pos,len) {
	var newArray = this1.slice();
	newArray.splice(pos,len);
	return ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(newArray);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.unshift = function(this1,x) {
	var newArray = this1.slice();
	newArray.unshift(x);
	return ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(newArray);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.first = function(this1) {
	if(this1.length == 0) {
		return haxe_ds_Option.None;
	} else {
		return haxe_ds_Option.Some(this1[0]);
	}
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.last = function(this1) {
	if(this1.length == 0) {
		return haxe_ds_Option.None;
	} else {
		return haxe_ds_Option.Some(this1[this1.length - 1]);
	}
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.array = function(this1) {
	return Lambda.array(this1);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.concat = function(this1,b) {
	return Lambda.array(Lambda.concat(this1,b));
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.count = function(this1,f) {
	return Lambda.count(this1,f);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.empty = function(this1) {
	return Lambda.empty(this1);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.exists = function(this1,f) {
	return Lambda.exists(this1,f);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.filter = function(this1,f) {
	return Lambda.array(Lambda.filter(this1,f));
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.find = function(this1,f) {
	return Lambda.find(this1,f);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.flatMap = function(this1,f) {
	var _g = [];
	var x = HxOverrides.iter(this1);
	while(x.hasNext()) _g.push(f(x.next()));
	var _g1 = [];
	var e = $getIterator(_g);
	while(e.hasNext()) {
		var x1 = $getIterator(e.next());
		while(x1.hasNext()) _g1.push(x1.next());
	}
	return Lambda.array(_g1);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.fold = function(this1,f,first) {
	return Lambda.fold(this1,f,first);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.foreach = function(this1,f) {
	return Lambda.foreach(this1,f);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.has = function(this1,elt) {
	return Lambda.has(this1,elt);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.indexOf = function(this1,v) {
	return Lambda.indexOf(this1,v);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.iter = function(this1,f) {
	Lambda.iter(this1,f);
	return;
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.list = function(this1) {
	return Lambda.list(this1);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.map = function(this1,f) {
	var _g = [];
	var x = HxOverrides.iter(this1);
	while(x.hasNext()) _g.push(f(x.next()));
	return Lambda.array(_g);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.mapi = function(this1,f) {
	var i = 0;
	var _g = [];
	var x = HxOverrides.iter(this1);
	while(x.hasNext()) _g.push(f(i++,x.next()));
	return Lambda.array(_g);
};
var ds__$ImmutableMap_ImmutableMap_$Impl_$ = {};
$hxClasses["ds._ImmutableMap.ImmutableMap_Impl_"] = ds__$ImmutableMap_ImmutableMap_$Impl_$;
ds__$ImmutableMap_ImmutableMap_$Impl_$.__name__ = true;
ds__$ImmutableMap_ImmutableMap_$Impl_$.copy = function(this1) {
	return this1.copy();
};
ds__$ImmutableMap_ImmutableMap_$Impl_$.set = function(this1,key,value) {
	var newMap = this1.copy();
	newMap.set(key,value);
	return newMap;
};
ds__$ImmutableMap_ImmutableMap_$Impl_$.remove = function(this1,key) {
	var newMap = this1.copy();
	newMap.remove(key);
	return newMap;
};
var ds_MiddlewareAccess = function() { };
$hxClasses["ds.MiddlewareAccess"] = ds_MiddlewareAccess;
ds_MiddlewareAccess.__name__ = true;
ds_MiddlewareAccess.middleware = function(asset) {
	return asset.middlewares;
};
ds_MiddlewareAccess.copy = function(asset,newState,middlewares) {
	return asset.copyAsset(newState,middlewares);
};
ds_MiddlewareAccess.allStateTypes = function(asset) {
	return asset.stateTypes;
};
ds_MiddlewareAccess.currentStateType = function(asset) {
	return asset.stateType;
};
var ds_Observable = function() {
	this.observers = [];
};
$hxClasses["ds.Observable"] = ds_Observable;
ds_Observable.__name__ = true;
ds_Observable.prototype = {
	subscribeObserver: function(observer,immediateCall) {
		var _gthis = this;
		this.observers.push(observer);
		if(immediateCall != null) {
			this.observeState(observer,immediateCall,immediateCall,true);
		}
		return new ds_Subscription(function() {
			HxOverrides.remove(_gthis.observers,observer);
		});
	}
	,observe: function(asset,next,action) {
		var newState = next(action);
		var _g = 0;
		var _g1 = this.observers;
		while(_g < _g1.length) this.observeState(_g1[_g++],asset.state,newState.state);
		return newState;
	}
	,observeState: function(observer,previousState,newState,shouldCall) {
		if(shouldCall == null) {
			shouldCall = false;
		}
		var getFieldInState = function(state,path) {
			if(path == "") {
				return state;
			}
			var output = state;
			var _g = 0;
			var _g1 = path.split(".");
			while(_g < _g1.length) {
				var p = _g1[_g];
				++_g;
				if(!Object.prototype.hasOwnProperty.call(output,p)) {
					throw new js__$Boot_HaxeError("Field not found in state: " + path);
				}
				output = Reflect.field(output,p);
			}
			return output;
		};
		switch(observer._hx_index) {
		case 0:
			var listener = observer.listener;
			var parameters = [];
			var path1 = HxOverrides.iter(observer.paths);
			while(path1.hasNext()) {
				var path2 = path1.next();
				var prevValue = shouldCall ? null : getFieldInState(previousState,path2);
				var currentValue = getFieldInState(newState,path2);
				shouldCall = shouldCall || prevValue != currentValue;
				parameters.push(currentValue);
			}
			if(shouldCall) {
				listener.apply(null,parameters);
			}
			break;
		case 1:
			observer.listener(previousState,newState);
			break;
		}
	}
	,__class__: ds_Observable
};
var ds_Observer = $hxEnums["ds.Observer"] = { __ename__ : true, __constructs__ : ["Partial","Full"]
	,Partial: ($_=function(paths,listener) { return {_hx_index:0,paths:paths,listener:listener,__enum__:"ds.Observer",toString:$estr}; },$_.__params__ = ["paths","listener"],$_)
	,Full: ($_=function(listener) { return {_hx_index:1,listener:listener,__enum__:"ds.Observer",toString:$estr}; },$_.__params__ = ["listener"],$_)
};
var ds_Subscription = function(unsubscribeObserver) {
	this.unsubscribeObserver = unsubscribeObserver;
	this.closed = false;
};
$hxClasses["ds.Subscription"] = ds_Subscription;
ds_Subscription.__name__ = true;
ds_Subscription.prototype = {
	unsubscribe: function() {
		if(this.closed) {
			return;
		}
		this.closed = true;
		this.unsubscribeObserver();
	}
	,__class__: ds_Subscription
};
var haxe_IMap = function() { };
$hxClasses["haxe.IMap"] = haxe_IMap;
haxe_IMap.__name__ = true;
haxe_IMap.prototype = {
	__class__: haxe_IMap
};
var haxe_Timer = function(time_ms) {
	var me = this;
	this.id = setInterval(function() {
		me.run();
	},time_ms);
};
$hxClasses["haxe.Timer"] = haxe_Timer;
haxe_Timer.__name__ = true;
haxe_Timer.delay = function(f,time_ms) {
	var t = new haxe_Timer(time_ms);
	t.run = function() {
		t.stop();
		f();
	};
	return t;
};
haxe_Timer.prototype = {
	stop: function() {
		if(this.id == null) {
			return;
		}
		clearInterval(this.id);
		this.id = null;
	}
	,run: function() {
	}
	,__class__: haxe_Timer
};
var haxe_ds_List = function() {
	this.length = 0;
};
$hxClasses["haxe.ds.List"] = haxe_ds_List;
haxe_ds_List.__name__ = true;
haxe_ds_List.prototype = {
	add: function(item) {
		var x = new haxe_ds__$List_ListNode(item,null);
		if(this.h == null) {
			this.h = x;
		} else {
			this.q.next = x;
		}
		this.q = x;
		this.length++;
	}
	,__class__: haxe_ds_List
};
var haxe_ds__$List_ListNode = function(item,next) {
	this.item = item;
	this.next = next;
};
$hxClasses["haxe.ds._List.ListNode"] = haxe_ds__$List_ListNode;
haxe_ds__$List_ListNode.__name__ = true;
haxe_ds__$List_ListNode.prototype = {
	__class__: haxe_ds__$List_ListNode
};
var haxe_ds_Option = $hxEnums["haxe.ds.Option"] = { __ename__ : true, __constructs__ : ["Some","None"]
	,Some: ($_=function(v) { return {_hx_index:0,v:v,__enum__:"haxe.ds.Option",toString:$estr}; },$_.__params__ = ["v"],$_)
	,None: {_hx_index:1,__enum__:"haxe.ds.Option",toString:$estr}
};
var haxe_ds_StringMap = function() {
	this.h = { };
};
$hxClasses["haxe.ds.StringMap"] = haxe_ds_StringMap;
haxe_ds_StringMap.__name__ = true;
haxe_ds_StringMap.__interfaces__ = [haxe_IMap];
haxe_ds_StringMap.prototype = {
	set: function(key,value) {
		if(__map_reserved[key] != null) {
			this.setReserved(key,value);
		} else {
			this.h[key] = value;
		}
	}
	,get: function(key) {
		if(__map_reserved[key] != null) {
			return this.getReserved(key);
		}
		return this.h[key];
	}
	,setReserved: function(key,value) {
		if(this.rh == null) {
			this.rh = { };
		}
		this.rh["$" + key] = value;
	}
	,getReserved: function(key) {
		if(this.rh == null) {
			return null;
		} else {
			return this.rh["$" + key];
		}
	}
	,remove: function(key) {
		if(__map_reserved[key] != null) {
			key = "$" + key;
			if(this.rh == null || !this.rh.hasOwnProperty(key)) {
				return false;
			}
			delete(this.rh[key]);
			return true;
		} else {
			if(!this.h.hasOwnProperty(key)) {
				return false;
			}
			delete(this.h[key]);
			return true;
		}
	}
	,keys: function() {
		return HxOverrides.iter(this.arrayKeys());
	}
	,arrayKeys: function() {
		var out = [];
		for( var key in this.h ) {
		if(this.h.hasOwnProperty(key)) {
			out.push(key);
		}
		}
		if(this.rh != null) {
			for( var key in this.rh ) {
			if(key.charCodeAt(0) == 36) {
				out.push(key.substr(1));
			}
			}
		}
		return out;
	}
	,copy: function() {
		var copied = new haxe_ds_StringMap();
		var key = this.keys();
		while(key.hasNext()) {
			var key1 = key.next();
			var value = __map_reserved[key1] != null ? this.getReserved(key1) : this.h[key1];
			if(__map_reserved[key1] != null) {
				copied.setReserved(key1,value);
			} else {
				copied.h[key1] = value;
			}
		}
		return copied;
	}
	,__class__: haxe_ds_StringMap
};
var js__$Boot_HaxeError = function(val) {
	Error.call(this);
	this.val = val;
	if(Error.captureStackTrace) {
		Error.captureStackTrace(this,js__$Boot_HaxeError);
	}
};
$hxClasses["js._Boot.HaxeError"] = js__$Boot_HaxeError;
js__$Boot_HaxeError.__name__ = true;
js__$Boot_HaxeError.__super__ = Error;
js__$Boot_HaxeError.prototype = $extend(Error.prototype,{
	__class__: js__$Boot_HaxeError
});
var js_Boot = function() { };
$hxClasses["js.Boot"] = js_Boot;
js_Boot.__name__ = true;
js_Boot.getClass = function(o) {
	if(((o) instanceof Array) && o.__enum__ == null) {
		return Array;
	} else {
		var cl = o.__class__;
		if(cl != null) {
			return cl;
		}
		var name = js_Boot.__nativeClassName(o);
		if(name != null) {
			return js_Boot.__resolveNativeClass(name);
		}
		return null;
	}
};
js_Boot.__string_rec = function(o,s) {
	if(o == null) {
		return "null";
	}
	if(s.length >= 5) {
		return "<...>";
	}
	var t = typeof(o);
	if(t == "function" && (o.__name__ || o.__ename__)) {
		t = "object";
	}
	switch(t) {
	case "function":
		return "<function>";
	case "object":
		if(o.__enum__) {
			var e = $hxEnums[o.__enum__];
			var n = e.__constructs__[o._hx_index];
			var con = e[n];
			if(con.__params__) {
				s += "\t";
				var tmp = n + "(";
				var _g = [];
				var _g1 = 0;
				var _g2 = con.__params__;
				while(_g1 < _g2.length) {
					var p = _g2[_g1];
					++_g1;
					_g.push(js_Boot.__string_rec(o[p],s));
				}
				return tmp + _g.join(",") + ")";
			} else {
				return n;
			}
		}
		if(((o) instanceof Array)) {
			var l = o.length;
			var i;
			var str = "[";
			s += "\t";
			var _g3 = 0;
			var _g11 = l;
			while(_g3 < _g11) {
				var i1 = _g3++;
				str += (i1 > 0 ? "," : "") + js_Boot.__string_rec(o[i1],s);
			}
			str += "]";
			return str;
		}
		var tostr;
		try {
			tostr = o.toString;
		} catch( e1 ) {
			var e2 = ((e1) instanceof js__$Boot_HaxeError) ? e1.val : e1;
			return "???";
		}
		if(tostr != null && tostr != Object.toString && typeof(tostr) == "function") {
			var s2 = o.toString();
			if(s2 != "[object Object]") {
				return s2;
			}
		}
		var k = null;
		var str1 = "{\n";
		s += "\t";
		var hasp = o.hasOwnProperty != null;
		for( var k in o ) {
		if(hasp && !o.hasOwnProperty(k)) {
			continue;
		}
		if(k == "prototype" || k == "__class__" || k == "__super__" || k == "__interfaces__" || k == "__properties__") {
			continue;
		}
		if(str1.length != 2) {
			str1 += ", \n";
		}
		str1 += s + k + " : " + js_Boot.__string_rec(o[k],s);
		}
		s = s.substring(1);
		str1 += "\n" + s + "}";
		return str1;
	case "string":
		return o;
	default:
		return String(o);
	}
};
js_Boot.__interfLoop = function(cc,cl) {
	if(cc == null) {
		return false;
	}
	if(cc == cl) {
		return true;
	}
	if(Object.prototype.hasOwnProperty.call(cc,"__interfaces__")) {
		var intf = cc.__interfaces__;
		var _g = 0;
		var _g1 = intf.length;
		while(_g < _g1) {
			var i = intf[_g++];
			if(i == cl || js_Boot.__interfLoop(i,cl)) {
				return true;
			}
		}
	}
	return js_Boot.__interfLoop(cc.__super__,cl);
};
js_Boot.__instanceof = function(o,cl) {
	if(cl == null) {
		return false;
	}
	switch(cl) {
	case Array:
		return ((o) instanceof Array);
	case Bool:
		return typeof(o) == "boolean";
	case Dynamic:
		return o != null;
	case Float:
		return typeof(o) == "number";
	case Int:
		if(typeof(o) == "number") {
			return ((o | 0) === o);
		} else {
			return false;
		}
		break;
	case String:
		return typeof(o) == "string";
	default:
		if(o != null) {
			if(typeof(cl) == "function") {
				if(((o) instanceof cl)) {
					return true;
				}
				if(js_Boot.__interfLoop(js_Boot.getClass(o),cl)) {
					return true;
				}
			} else if(typeof(cl) == "object" && js_Boot.__isNativeObj(cl)) {
				if(((o) instanceof cl)) {
					return true;
				}
			}
		} else {
			return false;
		}
		if(cl == Class ? o.__name__ != null : false) {
			return true;
		}
		if(cl == Enum ? o.__ename__ != null : false) {
			return true;
		}
		if(o.__enum__ != null) {
			return $hxEnums[o.__enum__] == cl;
		} else {
			return false;
		}
	}
};
js_Boot.__cast = function(o,t) {
	if(o == null || js_Boot.__instanceof(o,t)) {
		return o;
	} else {
		throw new js__$Boot_HaxeError("Cannot cast " + Std.string(o) + " to " + Std.string(t));
	}
};
js_Boot.__nativeClassName = function(o) {
	var name = js_Boot.__toStr.call(o).slice(8,-1);
	if(name == "Object" || name == "Function" || name == "Math" || name == "JSON") {
		return null;
	}
	return name;
};
js_Boot.__isNativeObj = function(o) {
	return js_Boot.__nativeClassName(o) != null;
};
js_Boot.__resolveNativeClass = function(name) {
	return $global[name];
};
var js_Browser = function() { };
$hxClasses["js.Browser"] = js_Browser;
js_Browser.__name__ = true;
js_Browser.alert = function(v) {
	window.alert(js_Boot.__string_rec(v,""));
};
var mithril_Mithril = function() { };
$hxClasses["mithril.Mithril"] = mithril_Mithril;
mithril_Mithril.__name__ = true;
var view_AppStoreView = function(store) {
	this.store = store;
};
$hxClasses["view.AppStoreView"] = view_AppStoreView;
view_AppStoreView.__name__ = true;
view_AppStoreView.__interfaces__ = [mithril_Mithril];
view_AppStoreView.prototype = {
	__class__: view_AppStoreView
};
var view_FooterView = function(store) {
	view_AppStoreView.call(this,store);
};
$hxClasses["view.FooterView"] = view_FooterView;
view_FooterView.__name__ = true;
view_FooterView.__super__ = view_AppStoreView;
view_FooterView.prototype = $extend(view_AppStoreView.prototype,{
	view: function() {
		var _gthis = this;
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		return [m.m("div",[m.m("p","Users"),m.m("ul",ds__$ImmutableArray_ImmutableArray_$Impl_$.map(this.store.get_state().users,function(u) {
			return m.m("li",{ onclick : function(e) {
				_gthis.store.tryLogin(u.username,u.password);
				return;
			}, style : { cursor : "pointer"}},"" + u.firstname + " " + u.lastname);
		}))]),m.m("div",[m.m("p","Groups"),m.m("ul",ds__$ImmutableArray_ImmutableArray_$Impl_$.map(this.store.get_state().groups,function(g) {
			return m.m("li",[m.m("p","" + g.name + " " + (g.sensus == null ? "null" : "" + g.sensus)),m.m("ul",ds__$ImmutableArray_ImmutableArray_$Impl_$.map(g.members,function(member) {
				return m.m("li",member);
			}))]);
		}))]),m.m("div",[m.m("p","Songs"),m.m("ul",ds__$ImmutableArray_ImmutableArray_$Impl_$.map(this.store.get_state().songs,function(s) {
			return m.m("li","" + s.title + " " + Std.string(s.category) + " " + Std.string(s.producer));
		}))]),m.m("div",[m.m("p","Applications"),m.m("ul",ds__$ImmutableArray_ImmutableArray_$Impl_$.map(this.store.get_state().applications,function(s1) {
			return m.m("li","" + Std.string(s1));
		}))]),m.m("div",[m.m("p","Invitations"),m.m("ul",ds__$ImmutableArray_ImmutableArray_$Impl_$.map(this.store.get_state().invitations,function(s2) {
			return m.m("li","" + Std.string(s2));
		}))])];
	}
	,__class__: view_FooterView
});
var view_ApplicationsView = function(store) {
	view_AppStoreView.call(this,store);
};
$hxClasses["view.ApplicationsView"] = view_ApplicationsView;
view_ApplicationsView.__name__ = true;
view_ApplicationsView.__super__ = view_AppStoreView;
view_ApplicationsView.prototype = $extend(view_AppStoreView.prototype,{
	view: function() {
		var _gthis = this;
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		var itemsList = this.store.get_state().applications != null ? ds__$ImmutableArray_ImmutableArray_$Impl_$.array(ds__$ImmutableArray_ImmutableArray_$Impl_$.map(ds__$ImmutableArray_ImmutableArray_$Impl_$.filter(this.store.get_state().applications,function(a) {
			return a.username == _gthis.store.get_state().userId;
		}),function(a1) {
			switch(a1.status._hx_index) {
			case 0:
				return m.m("div.application.start",[m.m("span","Klicka här för att ansöka om medlemskap i " + a1.groupname),m.m("button",{ onclick : function(e) {
					_gthis.store.removeApplication(a1);
					return;
				}},"Ta bort")]);
			case 1:
				return m.m("div.application.pending",[m.m("span","Din ansökan om att gå med i " + a1.groupname + " väntar på att behandlas av gruppledaren."),m.m("button",{ onclick : function(e1) {
					return { };
				}},"Ta bort")]);
			case 2:
				return m.m("div.application.rejected",[m.m("span","Din ansökan om medlemskap i " + a1.groupname + " har avslagits"),m.m("button",{ onclick : function(e2) {
					return { };
				}},"Ta bort")]);
			}
		})) : m.m("div","No applications");
		return [m.m("div.groupapplications",[m.m("h3.groupsearch","Dina Ansökningar"),m.m("p.groupsearch","Här kan du hitta den kör som du vill bli deltagare i, och skapa en ansökan som kommer att skickas till ledaren för den aktuella gruppen."),itemsList]),m.m("select.groupsearch",[m.m("option","Sök din kör eller grupp här")].concat(ds__$ImmutableArray_ImmutableArray_$Impl_$.array(ds__$ImmutableArray_ImmutableArray_$Impl_$.map(this.store.get_state().groups,function(group) {
			return m.m("option",{ onclick : function(e3) {
				console.log("src/view/Views.hx:100:","click " + group.name);
				var newApplication = { groupname : group.name, username : _gthis.store.get_state().userId, status : data_GroupApplicationStatus.Start};
				_gthis.store.addApplication(newApplication);
				return;
			}, value : "" + group.name},"" + group.name);
		}))))];
	}
	,__class__: view_ApplicationsView
});
var view_InvitationsView = function(store) {
	view_AppStoreView.call(this,store);
};
$hxClasses["view.InvitationsView"] = view_InvitationsView;
view_InvitationsView.__name__ = true;
view_InvitationsView.__super__ = view_AppStoreView;
view_InvitationsView.prototype = $extend(view_AppStoreView.prototype,{
	view: function() {
		var _gthis = this;
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		var myInvitations = ds__$ImmutableArray_ImmutableArray_$Impl_$.filter(this.store.get_state().invitations,function(a) {
			return a.username == _gthis.store.get_state().userId;
		});
		var itemsList = myInvitations != null ? ds__$ImmutableArray_ImmutableArray_$Impl_$.array(ds__$ImmutableArray_ImmutableArray_$Impl_$.map(myInvitations,function(a1) {
			switch(a1.status._hx_index) {
			case 0:
				return m.m("div.application.start",[m.m("span","Klicka här för att ansöka om medlemskap i " + a1.groupname),m.m("button",{ onclick : function(e) {
					_gthis.store.removeApplication(a1);
					return;
				}},"Ta bort")]);
			case 1:
				return m.m("div.application.pending",[m.m("span","Du har en inbjudan om att gå med i " + a1.groupname + ". Du kan välja om du vill gå med eller inte."),m.m("button",{ onclick : function(e1) {
					_gthis.store.addUsernameToGroupFromInvitation(a1);
					return;
				}},"Ja, jag vill gå med i " + a1.groupname),m.m("button",{ onclick : function(e2) {
					return { };
				}},"Nej, jag vill inte gå med i " + a1.groupname)]);
			case 2:
				return m.m("div.application.rejected",[m.m("span","Din ansökan om medlemskap i " + a1.groupname + " har avslagits"),m.m("button",{ onclick : function(e3) {
					return { };
				}},"Ta bort")]);
			}
		})) : m.m("div","No invitations");
		return m.m("div.groupapplications",[myInvitations.length > 0 ? m.m("h3","Mina inbjudningar") : null,itemsList]);
	}
	,__class__: view_InvitationsView
});
var view_CreateInvitationsView = function(store,group) {
	view_AppStoreView.call(this,store);
	this.group = group;
};
$hxClasses["view.CreateInvitationsView"] = view_CreateInvitationsView;
view_CreateInvitationsView.__name__ = true;
view_CreateInvitationsView.__super__ = view_AppStoreView;
view_CreateInvitationsView.prototype = $extend(view_AppStoreView.prototype,{
	view: function() {
		var _gthis = this;
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		var existsMessage = function(username) {
			if(_gthis.store.userExists(username)) {
				return " Finns.";
			} else {
				return " (Användaren " + username + " har ännu inte skapat något ScorX-konto, men kommer att nås av denna inbjudan när detta sker.)";
			}
		};
		var itemsList = this.store.get_state().invitations != null ? ds__$ImmutableArray_ImmutableArray_$Impl_$.array(ds__$ImmutableArray_ImmutableArray_$Impl_$.map(ds__$ImmutableArray_ImmutableArray_$Impl_$.filter(this.store.get_state().invitations,function(a) {
			return a.groupname == _gthis.group.name;
		}),function(a1) {
			switch(a1.status._hx_index) {
			case 0:
				var itemsList1 = "Klicka här för att skapa en inbjudan till " + a1.username + " om att bli medlem i " + a1.groupname + "." + existsMessage(a1.username);
				return m.m("div.application.start",[m.m("span",{ onclick : function(e) {
					_gthis.store.changeApplicationStatus(a1,data_GroupApplicationStatus.Pending);
					return;
				}},itemsList1),m.m("button",{ onclick : function(e1) {
					_gthis.store.removeApplication(a1);
					return;
				}},"Ta bort")]);
			case 1:
				return m.m("div.application.pending",[m.m("span","Du har skickat en inbjudan till " + a1.username + " om att gå med i gruppen " + a1.groupname + "." + existsMessage(a1.username)),m.m("button",{ onclick : function(e2) {
					_gthis.store.removeInvitation(a1);
					return;
				}},"Ta bort")]);
			case 2:
				return m.m("div.application.rejected",[m.m("span","Din ansökan om medlemskap i " + a1.groupname + " har avslagits"),m.m("button",{ onclick : function(e3) {
					return { };
				}},"Ta bort")]);
			}
		})) : m.m("div","No invitations");
		return m.m("div.groupinvitation",[m.m("div",[m.m("input[placeholder=Medlemmens e-postadress]",{ oninput : function(e4) {
			view_CreateInvitationsView.username = e4.target.value;
			console.log("src/view/Views.hx:204:",view_CreateInvitationsView.username);
			return;
		}}),m.m("button",{ onclick : function(e5) {
			console.log("src/view/Views.hx:210:",view_CreateInvitationsView.username);
			var application = { username : view_CreateInvitationsView.username, groupname : _gthis.group.name, status : data_GroupApplicationStatus.Start};
			_gthis.store.addInvitation(application);
			return;
		}},"Skapa en inbjudan"),itemsList])]);
	}
	,__class__: view_CreateInvitationsView
});
var view_Homeview = function(store) {
	view_AppStoreView.call(this,store);
};
$hxClasses["view.Homeview"] = view_Homeview;
view_Homeview.__name__ = true;
view_Homeview.__super__ = view_AppStoreView;
view_Homeview.prototype = $extend(view_AppStoreView.prototype,{
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		if(this.store.get_state().userId == null) {
			return this.guest();
		} else {
			return this.user();
		}
	}
	,guest: function() {
		return [this.cells([data_HomeCell.Image("assets/img/old-town.jpg"),data_HomeCell.Title("Sjung och spela var du vill"),data_HomeCell.Info("ScorX spelare funkar både för mobil och surfplatta!")]),this.cells([data_HomeCell.Image("assets/img/happy.jpg"),data_HomeCell.Title("Pröva ScorX gratis!"),data_HomeCell.Info("Klicka på valfri titel i listan nedan, lyssna och sjung med!"),data_HomeCell.Songlist("Gratislåtar",ds__$ImmutableArray_ImmutableArray_$Impl_$.array(this.store.get_state().songs),[data_SongFilter.Category(data_SongCategory.Free),data_SongFilter.LimitNumber(5)])])];
	}
	,cells: function(cells) {
		var _gthis = this;
		return m.m("section",cells.map(function(cell) {
			switch(cell._hx_index) {
			case 0:
				return m.m("img",{ src : cell.url});
			case 1:
				return m.m("h1.limit-width.center",cell.title);
			case 2:
				return m.m("p.limit-width.center",cell.info);
			case 4:
				return _gthis.songlist(cell.title,cell.songs,cell.filter);
			case 5:
				return [new view_ApplicationsView(_gthis.store).view()];
			case 6:
				return m.m("div.groupmembers",[m.m("ul",ds__$ImmutableArray_ImmutableArray_$Impl_$.map(_gthis.store.getGroup(cell.groupname).members,function(member) {
					return m.m("li",member);
				}))]);
			case 7:
				var group = _gthis.store.getGroup(cell.groupname);
				return new view_CreateInvitationsView(_gthis.store,group).view();
			case 8:
				return m.m("div.center",[m.m("button.center",{ onclick : function(e) {
					console.log("src/view/Views.hx:255:","Click");
					return;
				}},"Gå till butiken")]);
			default:
				return null;
			}
		}));
	}
	,user: function() {
		return [this.choirMember(),this.choirAdmin(),this.mySongs()];
	}
	,mySongs: function() {
		var _gthis = this;
		var mySongs = ds__$ImmutableArray_ImmutableArray_$Impl_$.array(ds__$ImmutableArray_ImmutableArray_$Impl_$.map(this.store.getUser().songs,function(title) {
			return _gthis.store.getSong(title);
		}));
		var myList = mySongs.length > 0 ? this.cells([data_HomeCell.Songlist("Mina låtar",mySongs,[data_SongFilter.LimitNumber(5)])]) : this.cells([data_HomeCell.BuySongs]);
		return [this.cells([data_HomeCell.Title("Mina låtar"),data_HomeCell.Info("Här visas de låtar som du har köpt eller valt genom förmånserbjudanden.")]),myList];
	}
	,choirAdmin: function() {
		var _gthis = this;
		var user = this.store.getUser();
		var groups = ds__$ImmutableArray_ImmutableArray_$Impl_$.array(ds__$ImmutableArray_ImmutableArray_$Impl_$.filter(this.store.get_state().groups,function(group) {
			return ds__$ImmutableArray_ImmutableArray_$Impl_$.indexOf(group.admins,user.username) > -1;
		}));
		if(groups == null || groups.length == 0) {
			return null;
		}
		var groupLists = groups.map(function(group1) {
			var group2 = group1.name;
			var groupLists1 = ds__$ImmutableArray_ImmutableArray_$Impl_$.map(group1.songs,function(title) {
				return _gthis.store.getSong(title);
			});
			var groupLists2 = data_SongFilter.Group(group1.name);
			var groupLists3 = data_HomeCell.Songlist(group2,ds__$ImmutableArray_ImmutableArray_$Impl_$.array(groupLists1),[groupLists2]);
			return _gthis.cells([groupLists3,data_HomeCell.Info("Gruppens nuvarande medlemmar:"),data_HomeCell.ListGroupMembers(group1.name),data_HomeCell.Info("Här kan du bjuda in medlemmar till gruppen:"),data_HomeCell.InviteGroupMembers(group1.name)]);
		});
		return m.m("div.center",[this.cells([data_HomeCell.Title("Du leder följande körer")]),groupLists]);
	}
	,choirMember: function() {
		var _gthis = this;
		var user = this.store.getUser();
		var groupLists = ds__$ImmutableArray_ImmutableArray_$Impl_$.array(ds__$ImmutableArray_ImmutableArray_$Impl_$.filter(this.store.get_state().groups,function(group) {
			return ds__$ImmutableArray_ImmutableArray_$Impl_$.indexOf(group.members,user.username) > -1;
		})).map(function(group1) {
			var group2 = group1.name;
			var groupLists1 = ds__$ImmutableArray_ImmutableArray_$Impl_$.map(group1.songs,function(title) {
				return _gthis.store.getSong(title);
			});
			var groupLists2 = data_SongFilter.Group(group1.name);
			var groupLists3 = data_HomeCell.Songlist(group2,ds__$ImmutableArray_ImmutableArray_$Impl_$.array(groupLists1),[groupLists2]);
			return _gthis.cells([groupLists3]);
		});
		return m.m("div.center",[this.cells([data_HomeCell.Title("Körernas låtar"),data_HomeCell.Info(groupLists.length > 0 ? "Här visas de låtar dom delats ut till dig genom dina körer." : "Du verkar inte vara deltagare i någon kör eller grupp i ScorX.")]),groupLists,groupLists.length == 0 ? this.cells([data_HomeCell.SearchChoir]) : null,new view_InvitationsView(this.store).view()]);
	}
	,songlist: function(title,songs,filter) {
		var _gthis = this;
		var totalNumber = songs.length;
		var _g = 0;
		while(_g < filter.length) {
			var f = filter[_g];
			++_g;
			switch(f._hx_index) {
			case 0:
				break;
			case 1:
				songs = songs.filter((function(cat) {
					return function(song) {
						var e = song.category;
						return $hxEnums[e.__enum__].__constructs__[e._hx_index] == $hxEnums[cat[0].__enum__].__constructs__[cat[0]._hx_index];
					};
				})([f.cat]));
				break;
			case 2:
				songs = songs.filter((function(prod) {
					return function(song1) {
						return song1.producer == prod[0];
					};
				})([f.prod]));
				break;
			case 3:
				songs = ds__$ImmutableArray_ImmutableArray_$Impl_$.array(ds__$ImmutableArray_ImmutableArray_$Impl_$.map(this.store.getGroup(f.groupname).songs,(function() {
					return function(songtitle) {
						return _gthis.store.getSong(songtitle);
					};
				})()));
				totalNumber = songs.length;
				break;
			case 4:
				songs = songs.slice(0,5);
				break;
			}
		}
		return m.m("article.center",[m.m("header",m.m("span",title),m.m("input[placeholder=Sök]")),m.m("ul",songs.filter(function(song2) {
			return song2 != null;
		}).map(function(song3) {
			var e1 = song3.producer;
			return m.m("li",[m.m(".thumb",m.m("img",{ src : "assets/scorx/" + $hxEnums[e1.__enum__].__constructs__[e1._hx_index] + ".png"})),m.m(".title",[m.m("h3",song3.title),m.m("p","Information...")]),m.m(".originators","Originators")]);
		})),m.m("footer",[m.m("button",{ onclick : function(e2) {
			return { };
		}},"Visa alla " + totalNumber)])]);
	}
	,__class__: view_Homeview
});
var view_Pageview = function(store) {
	view_AppStoreView.call(this,store);
	this.home = new view_Homeview(store);
	this.create = new view_CreateUserView(store);
};
$hxClasses["view.Pageview"] = view_Pageview;
view_Pageview.__name__ = true;
view_Pageview.__super__ = view_AppStoreView;
view_Pageview.prototype = $extend(view_AppStoreView.prototype,{
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		switch(this.store.get_state().page._hx_index) {
		case 0:
			return this.home.view();
		case 2:
			return this.create.view();
		default:
			return null;
		}
	}
	,__class__: view_Pageview
});
var view_CreateUserView = function(store) {
	this.lastname = "a";
	this.firstname = "a";
	this.tryPassword = "a";
	this.tryUsername = "a";
	view_AppStoreView.call(this,store);
};
$hxClasses["view.CreateUserView"] = view_CreateUserView;
view_CreateUserView.__name__ = true;
view_CreateUserView.__super__ = view_AppStoreView;
view_CreateUserView.prototype = $extend(view_AppStoreView.prototype,{
	view: function() {
		var _gthis = this;
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		return [m.m("h1","Create user"),m.m("div",[m.m("input[placeholder=Användarnamn][required]",{ oninput : function(e) {
			_gthis.tryUsername = e.target.value;
			console.log("src/view/Views.hx:398:",e.target.value);
			console.log("src/view/Views.hx:399:",_gthis.tryUsername);
			return;
		}}),m.m("input[placeholder=Lösenord][required]",{ oninput : function(e1) {
			return _gthis.tryPassword = e1.target.value;
		}}),m.m("input[placeholder=Förnamn][required]",{ oninput : function(e2) {
			return _gthis.firstname = e2.target.value;
		}}),m.m("input[placeholder=Lastname][required]",{ oninput : function(e3) {
			return _gthis.lastname = e3.target.value;
		}}),m.m("button",{ onclick : function(e4) {
			console.log("src/view/Views.hx:424:",_gthis.tryUsername + " " + _gthis.tryPassword + " " + _gthis.firstname + " " + _gthis.lastname);
			try {
				cx_Validation.asEmail(_gthis.tryUsername);
				cx_Validation.asPassword(_gthis.tryPassword);
				cx_Validation.asFirstname(_gthis.firstname);
				cx_Validation.asLastname(_gthis.lastname);
				var newUser = { firstname : _gthis.firstname, lastname : _gthis.lastname, password : _gthis.tryPassword, username : _gthis.tryUsername, sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])};
				console.log("src/view/Views.hx:438:",newUser);
				_gthis.store.addUser(newUser);
			} catch( e5 ) {
				js_Browser.alert(((e5) instanceof js__$Boot_HaxeError) ? e5.val : e5);
			}
			return;
		}},"Skapa användare")])];
	}
	,__class__: view_CreateUserView
});
var view_MenuView = function(store) {
	view_AppStoreView.call(this,store);
};
$hxClasses["view.MenuView"] = view_MenuView;
view_MenuView.__name__ = true;
view_MenuView.__super__ = view_AppStoreView;
view_MenuView.prototype = $extend(view_AppStoreView.prototype,{
	view: function() {
		var _gthis = this;
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		return [m.m("button",{ onclick : function(e) {
			_gthis.store.updateState({ type : "MenuView.view", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([ds_PathAccess.Field("page")]), value : data_Page.Home}])});
			return;
		}},"Home"),m.m("button",{ onclick : function(e1) {
			_gthis.store.updateState({ type : "MenuView.view", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([ds_PathAccess.Field("page")]), value : data_Page.CreateUser}])});
			return;
		}},"Create user"),m.m("button",{ onclick : function(e2) {
			_gthis.store.resetToDefaultData();
			return;
		}},"Reset data")];
	}
	,__class__: view_MenuView
});
var view_Userview = function(store) {
	this.tryPassword = "adam1";
	this.tryUsername = "adam@adam.se";
	view_AppStoreView.call(this,store);
};
$hxClasses["view.Userview"] = view_Userview;
view_Userview.__name__ = true;
view_Userview.__super__ = view_AppStoreView;
view_Userview.prototype = $extend(view_AppStoreView.prototype,{
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		if(this.store.get_state().userId != null) {
			return this.user();
		} else {
			return this.guest();
		}
	}
	,user: function() {
		var _gthis = this;
		if(this.store.getUser() == null) {
			return null;
		}
		return [m.m("h3","Välkommen, " + this.store.getUser().firstname + "!"),m.m("button",{ onclick : function(e) {
			_gthis.store.logout();
			return;
		}},"Logga ut")];
	}
	,guest: function() {
		var _gthis = this;
		return [m.m("div",[m.m("input[placeholder=Användarnamn][required]",{ oninput : function(e) {
			return _gthis.tryUsername = e.target.value;
		}, value : this.tryUsername}),m.m("input[placeholder=Lösenord][required]",{ oninput : function(e1) {
			return _gthis.tryPassword = e1.target.value;
		}, value : this.tryPassword}),m.m("button",{ onclick : function(e2) {
			_gthis.store.tryLogin(_gthis.tryUsername,_gthis.tryPassword);
			return;
		}},"Logga in")])];
	}
	,__class__: view_Userview
});
function $getIterator(o) { if( o instanceof Array ) return HxOverrides.iter(o); else return o.iterator(); }
var $fid = 0;
function $bind(o,m) { if( m == null ) return null; if( m.__id__ == null ) m.__id__ = $fid++; var f; if( o.hx__closures__ == null ) o.hx__closures__ = {}; else f = o.hx__closures__[m.__id__]; if( f == null ) { f = m.bind(o); o.hx__closures__[m.__id__] = f; } return f; }
$hxClasses["Math"] = Math;
String.prototype.__class__ = $hxClasses["String"] = String;
String.__name__ = true;
$hxClasses["Array"] = Array;
Array.__name__ = true;
var Int = { };
var Dynamic = { };
var Float = Number;
var Bool = Boolean;
var Class = { };
var Enum = { };
var __map_reserved = {};
Object.defineProperty(js__$Boot_HaxeError.prototype,"message",{ get : function() {
	return String(this.val);
}});
js_Boot.__toStr = ({ }).toString;
try {
var __varName = window.m;
(function(m) {
			if (m.m) return;
			m.m = function() {
				try { 
					for(var i=0; i < arguments.length; ++i) if(arguments[i] instanceof List) {
						var list = arguments[i].h; arguments[i] = [];
						while(list != null) { arguments[i].push(l[0]); list = l[1]; }
					}
				} catch(e) {}
				return m.apply(this, arguments);
			}
		})(__varName);
} catch(_) {}
try {
global.m = require("mithril");
var __varName1 = global.m;
(function(m) {
			if (m.m) return;
			m.m = function() {
				try { 
					for(var i=0; i < arguments.length; ++i) if(arguments[i] instanceof List) {
						var list = arguments[i].h; arguments[i] = [];
						while(list != null) { arguments[i].push(l[0]); list = l[1]; }
					}
				} catch(e) {}
				return m.apply(this, arguments);
			}
		})(__varName1);
} catch(_) {}
DeepState_$data_$AppState._stateTypes = (function($this) {
	var $r;
	var _g9 = new haxe_ds_StringMap();
	{
		var _g = new haxe_ds_StringMap();
		var value = ds_StateObjectType.String;
		if(__map_reserved["username"] != null) {
			_g.setReserved("username",value);
		} else {
			_g.h["username"] = value;
		}
		var value1 = ds_StateObjectType.Array(ds_StateObjectType.String);
		if(__map_reserved["songs"] != null) {
			_g.setReserved("songs",value1);
		} else {
			_g.h["songs"] = value1;
		}
		var value2 = ds_StateObjectType.Bool;
		if(__map_reserved["sensus"] != null) {
			_g.setReserved("sensus",value2);
		} else {
			_g.h["sensus"] = value2;
		}
		var value3 = ds_StateObjectType.String;
		if(__map_reserved["password"] != null) {
			_g.setReserved("password",value3);
		} else {
			_g.h["password"] = value3;
		}
		var value4 = ds_StateObjectType.String;
		if(__map_reserved["lastname"] != null) {
			_g.setReserved("lastname",value4);
		} else {
			_g.h["lastname"] = value4;
		}
		var value5 = ds_StateObjectType.String;
		if(__map_reserved["firstname"] != null) {
			_g.setReserved("firstname",value5);
		} else {
			_g.h["firstname"] = value5;
		}
		var value6 = ds_StateObjectType.Anonymous(_g);
		if(__map_reserved["data.User"] != null) {
			_g9.setReserved("data.User",value6);
		} else {
			_g9.h["data.User"] = value6;
		}
	}
	{
		var _g1 = new haxe_ds_StringMap();
		var value7 = ds_StateObjectType.String;
		if(__map_reserved["title"] != null) {
			_g1.setReserved("title",value7);
		} else {
			_g1.h["title"] = value7;
		}
		var value8 = ds_StateObjectType.Enumm;
		if(__map_reserved["producer"] != null) {
			_g1.setReserved("producer",value8);
		} else {
			_g1.h["producer"] = value8;
		}
		var value9 = ds_StateObjectType.Enumm;
		if(__map_reserved["category"] != null) {
			_g1.setReserved("category",value9);
		} else {
			_g1.h["category"] = value9;
		}
		var value10 = ds_StateObjectType.Anonymous(_g1);
		if(__map_reserved["data.Song"] != null) {
			_g9.setReserved("data.Song",value10);
		} else {
			_g9.h["data.Song"] = value10;
		}
	}
	{
		var _g2 = new haxe_ds_StringMap();
		var value11 = ds_StateObjectType.String;
		if(__map_reserved["username"] != null) {
			_g2.setReserved("username",value11);
		} else {
			_g2.h["username"] = value11;
		}
		var value12 = ds_StateObjectType.Enumm;
		if(__map_reserved["status"] != null) {
			_g2.setReserved("status",value12);
		} else {
			_g2.h["status"] = value12;
		}
		var value13 = ds_StateObjectType.String;
		if(__map_reserved["groupname"] != null) {
			_g2.setReserved("groupname",value13);
		} else {
			_g2.h["groupname"] = value13;
		}
		var value14 = ds_StateObjectType.Anonymous(_g2);
		if(__map_reserved["data.GroupApplication"] != null) {
			_g9.setReserved("data.GroupApplication",value14);
		} else {
			_g9.h["data.GroupApplication"] = value14;
		}
	}
	{
		var _g3 = new haxe_ds_StringMap();
		var value15 = ds_StateObjectType.Array(ds_StateObjectType.String);
		if(__map_reserved["songs"] != null) {
			_g3.setReserved("songs",value15);
		} else {
			_g3.h["songs"] = value15;
		}
		var value16 = ds_StateObjectType.Bool;
		if(__map_reserved["sensus"] != null) {
			_g3.setReserved("sensus",value16);
		} else {
			_g3.h["sensus"] = value16;
		}
		var value17 = ds_StateObjectType.String;
		if(__map_reserved["name"] != null) {
			_g3.setReserved("name",value17);
		} else {
			_g3.h["name"] = value17;
		}
		var value18 = ds_StateObjectType.Array(ds_StateObjectType.String);
		if(__map_reserved["members"] != null) {
			_g3.setReserved("members",value18);
		} else {
			_g3.h["members"] = value18;
		}
		var value19 = ds_StateObjectType.String;
		if(__map_reserved["info"] != null) {
			_g3.setReserved("info",value19);
		} else {
			_g3.h["info"] = value19;
		}
		var value20 = ds_StateObjectType.Array(ds_StateObjectType.String);
		if(__map_reserved["admins"] != null) {
			_g3.setReserved("admins",value20);
		} else {
			_g3.h["admins"] = value20;
		}
		var value21 = ds_StateObjectType.Anonymous(_g3);
		if(__map_reserved["data.Group"] != null) {
			_g9.setReserved("data.Group",value21);
		} else {
			_g9.h["data.Group"] = value21;
		}
	}
	{
		var _g8 = new haxe_ds_StringMap();
		var _g4 = new haxe_ds_StringMap();
		var value22 = ds_StateObjectType.String;
		if(__map_reserved["username"] != null) {
			_g4.setReserved("username",value22);
		} else {
			_g4.h["username"] = value22;
		}
		var value23 = ds_StateObjectType.Array(ds_StateObjectType.String);
		if(__map_reserved["songs"] != null) {
			_g4.setReserved("songs",value23);
		} else {
			_g4.h["songs"] = value23;
		}
		var value24 = ds_StateObjectType.Bool;
		if(__map_reserved["sensus"] != null) {
			_g4.setReserved("sensus",value24);
		} else {
			_g4.h["sensus"] = value24;
		}
		var value25 = ds_StateObjectType.String;
		if(__map_reserved["password"] != null) {
			_g4.setReserved("password",value25);
		} else {
			_g4.h["password"] = value25;
		}
		var value26 = ds_StateObjectType.String;
		if(__map_reserved["lastname"] != null) {
			_g4.setReserved("lastname",value26);
		} else {
			_g4.h["lastname"] = value26;
		}
		var value27 = ds_StateObjectType.String;
		if(__map_reserved["firstname"] != null) {
			_g4.setReserved("firstname",value27);
		} else {
			_g4.h["firstname"] = value27;
		}
		var value28 = ds_StateObjectType.Array(ds_StateObjectType.Anonymous(_g4));
		if(__map_reserved["users"] != null) {
			_g8.setReserved("users",value28);
		} else {
			_g8.h["users"] = value28;
		}
		var value29 = ds_StateObjectType.String;
		if(__map_reserved["userId"] != null) {
			_g8.setReserved("userId",value29);
		} else {
			_g8.h["userId"] = value29;
		}
		var _g5 = new haxe_ds_StringMap();
		var value30 = ds_StateObjectType.String;
		if(__map_reserved["title"] != null) {
			_g5.setReserved("title",value30);
		} else {
			_g5.h["title"] = value30;
		}
		var value31 = ds_StateObjectType.Enumm;
		if(__map_reserved["producer"] != null) {
			_g5.setReserved("producer",value31);
		} else {
			_g5.h["producer"] = value31;
		}
		var value32 = ds_StateObjectType.Enumm;
		if(__map_reserved["category"] != null) {
			_g5.setReserved("category",value32);
		} else {
			_g5.h["category"] = value32;
		}
		var value33 = ds_StateObjectType.Array(ds_StateObjectType.Anonymous(_g5));
		if(__map_reserved["songs"] != null) {
			_g8.setReserved("songs",value33);
		} else {
			_g8.h["songs"] = value33;
		}
		var value34 = ds_StateObjectType.Enumm;
		if(__map_reserved["page"] != null) {
			_g8.setReserved("page",value34);
		} else {
			_g8.h["page"] = value34;
		}
		var value35 = ds_StateObjectType.Array(ds_StateObjectType.Recursive("data.GroupApplication"));
		if(__map_reserved["invitations"] != null) {
			_g8.setReserved("invitations",value35);
		} else {
			_g8.h["invitations"] = value35;
		}
		var _g6 = new haxe_ds_StringMap();
		var value36 = ds_StateObjectType.Array(ds_StateObjectType.String);
		if(__map_reserved["songs"] != null) {
			_g6.setReserved("songs",value36);
		} else {
			_g6.h["songs"] = value36;
		}
		var value37 = ds_StateObjectType.Bool;
		if(__map_reserved["sensus"] != null) {
			_g6.setReserved("sensus",value37);
		} else {
			_g6.h["sensus"] = value37;
		}
		var value38 = ds_StateObjectType.String;
		if(__map_reserved["name"] != null) {
			_g6.setReserved("name",value38);
		} else {
			_g6.h["name"] = value38;
		}
		var value39 = ds_StateObjectType.Array(ds_StateObjectType.String);
		if(__map_reserved["members"] != null) {
			_g6.setReserved("members",value39);
		} else {
			_g6.h["members"] = value39;
		}
		var value40 = ds_StateObjectType.String;
		if(__map_reserved["info"] != null) {
			_g6.setReserved("info",value40);
		} else {
			_g6.h["info"] = value40;
		}
		var value41 = ds_StateObjectType.Array(ds_StateObjectType.String);
		if(__map_reserved["admins"] != null) {
			_g6.setReserved("admins",value41);
		} else {
			_g6.h["admins"] = value41;
		}
		var value42 = ds_StateObjectType.Array(ds_StateObjectType.Anonymous(_g6));
		if(__map_reserved["groups"] != null) {
			_g8.setReserved("groups",value42);
		} else {
			_g8.h["groups"] = value42;
		}
		var _g7 = new haxe_ds_StringMap();
		var value43 = ds_StateObjectType.String;
		if(__map_reserved["username"] != null) {
			_g7.setReserved("username",value43);
		} else {
			_g7.h["username"] = value43;
		}
		var value44 = ds_StateObjectType.Enumm;
		if(__map_reserved["status"] != null) {
			_g7.setReserved("status",value44);
		} else {
			_g7.h["status"] = value44;
		}
		var value45 = ds_StateObjectType.String;
		if(__map_reserved["groupname"] != null) {
			_g7.setReserved("groupname",value45);
		} else {
			_g7.h["groupname"] = value45;
		}
		var value46 = ds_StateObjectType.Array(ds_StateObjectType.Anonymous(_g7));
		if(__map_reserved["applications"] != null) {
			_g8.setReserved("applications",value46);
		} else {
			_g8.h["applications"] = value46;
		}
		var value47 = ds_StateObjectType.Anonymous(_g8);
		if(__map_reserved["data.AppState"] != null) {
			_g9.setReserved("data.AppState",value47);
		} else {
			_g9.h["data.AppState"] = value47;
		}
	}
	$r = _g9;
	return $r;
}(this));
cx_Validation.emailReg = new EReg("^[\\w-\\.]{2,}@[\\w-\\.]{2,}\\.[a-z]{2,6}$","i");
Client.main();
})(typeof window != "undefined" ? window : typeof global != "undefined" ? global : typeof self != "undefined" ? self : this);
