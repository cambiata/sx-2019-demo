// Generated by Haxe 4.0.0-rc.2+77068e10c
(function ($global) { "use strict";
var $hxClasses = {},$estr = function() { return js_Boot.__string_rec(this,''); },$hxEnums = $hxEnums || {},$_;
function $extend(from, fields) {
	var proto = Object.create(from);
	for (var name in fields) proto[name] = fields[name];
	if( fields.toString !== Object.prototype.toString ) proto.toString = fields.toString;
	return proto;
}
var Client = function() { };
$hxClasses["Client"] = Client;
Client.__name__ = true;
Client.main = function() {
	console.log("src/Client.hx:29:","Hello, world!");
	var store = new data_AppStore(new DeepState_$data_$AppState({ page : data_Page.Home, userId : null, users : null, groups : null, songs : null}));
	store.subscribeObserver(ds_Observer.Partial(ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([""]),function(state) {
		m.redraw();
		console.log("src/Client.hx:41:","redraw");
		return;
	}),store.get_state());
	store.load();
	m.mount(window.document.querySelector("#header"),new Userview(store));
	m.mount(window.document.querySelector("#nav"),new MenuView(store));
	m.mount(window.document.querySelector("#footer"),new FooterView(store));
	m.mount(window.document.querySelector("main"),new Pageview(store));
};
var mithril_Mithril = function() { };
$hxClasses["mithril.Mithril"] = mithril_Mithril;
mithril_Mithril.__name__ = true;
var AppStoreView = function(store) {
	this.store = store;
};
$hxClasses["AppStoreView"] = AppStoreView;
AppStoreView.__name__ = true;
AppStoreView.__interfaces__ = [mithril_Mithril];
AppStoreView.prototype = {
	__class__: AppStoreView
};
var FooterView = function(store) {
	AppStoreView.call(this,store);
};
$hxClasses["FooterView"] = FooterView;
FooterView.__name__ = true;
FooterView.__super__ = AppStoreView;
FooterView.prototype = $extend(AppStoreView.prototype,{
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		return [m.m("ul",ds__$ImmutableArray_ImmutableArray_$Impl_$.map(this.store.get_state().users,function(u) {
			return m.m("li","" + u.firstname + " " + u.lastname + " " + u.username + " " + u.password);
		})),m.m("ul",ds__$ImmutableArray_ImmutableArray_$Impl_$.map(this.store.get_state().groups,function(g) {
			return m.m("li","" + g.name + " " + (g.sensus == null ? "null" : "" + g.sensus));
		})),m.m("ul",ds__$ImmutableArray_ImmutableArray_$Impl_$.map(this.store.get_state().songs,function(s) {
			return m.m("li","" + s.title + " " + Std.string(s.category) + " " + Std.string(s.producer));
		}))];
	}
	,__class__: FooterView
});
var Homeview = function(store) {
	AppStoreView.call(this,store);
};
$hxClasses["Homeview"] = Homeview;
Homeview.__name__ = true;
Homeview.__super__ = AppStoreView;
Homeview.prototype = $extend(AppStoreView.prototype,{
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		if(this.store.get_state().userId == null) {
			return this.guest();
		} else {
			return this.user();
		}
	}
	,guest: function() {
		return [this.cells([data_HomeCell.Image("assets/img/old-town.jpg"),data_HomeCell.Title("Sjung och spela var du vill"),data_HomeCell.Info("ScorX spelare funkar både för mobil och surfplatta!")]),this.cells([data_HomeCell.Image("assets/img/happy.jpg"),data_HomeCell.Title("Pröva ScorX gratis!"),data_HomeCell.Info("Klicka på valfri titel i listan nedan, lyssna och sjung med!"),data_HomeCell.Songlist("Gratislåtar",ds__$ImmutableArray_ImmutableArray_$Impl_$.array(this.store.get_state().songs),[data_SongFilter.Category(data_SongCategory.Free),data_SongFilter.LimitNumber(5)])])];
	}
	,cells: function(cells) {
		var _gthis = this;
		return m.m("section",cells.map(function(cell) {
			switch(cell._hx_index) {
			case 0:
				return m.m("img",{ src : cell.url});
			case 1:
				return m.m("h1.limit-width.center",cell.title);
			case 2:
				return m.m("p.limit-width.center",cell.info);
			case 4:
				return _gthis.songlist(cell.title,cell.songs,cell.filter);
			default:
				return null;
			}
		}));
	}
	,user: function() {
		var _gthis = this;
		var user = this.store.getUser();
		var groupLists = ds__$ImmutableArray_ImmutableArray_$Impl_$.array(ds__$ImmutableArray_ImmutableArray_$Impl_$.map(user.groups,function(groupname) {
			return _gthis.store.getGroup(groupname);
		})).map(function(group) {
			var group1 = group.name;
			var groupLists1 = ds__$ImmutableArray_ImmutableArray_$Impl_$.map(group.songs,function(title) {
				return _gthis.store.getSong(title);
			});
			var groupLists2 = data_SongFilter.Group(group.name);
			var groupLists3 = data_HomeCell.Songlist(group1,ds__$ImmutableArray_ImmutableArray_$Impl_$.array(groupLists1),[groupLists2]);
			return _gthis.cells([groupLists3]);
		});
		var mySongs = ds__$ImmutableArray_ImmutableArray_$Impl_$.array(ds__$ImmutableArray_ImmutableArray_$Impl_$.map(user.songs,function(title1) {
			return _gthis.store.getSong(title1);
		}));
		console.log("src/Client.hx:117:",mySongs.length);
		var myList = this.cells([data_HomeCell.Songlist("Mina låtar",mySongs,[data_SongFilter.LimitNumber(5)])]);
		return m.m("div.center",[this.cells([data_HomeCell.Title("Körernas låtar"),data_HomeCell.Info("Här visas de låtar dom delats ut till dig genom dina körer.")]),groupLists,this.cells([data_HomeCell.Title("Dina låtar"),data_HomeCell.Info("Här visas de låtar som du har köpt eller valt genom förmånserbjudanden.")]),myList]);
	}
	,songlist: function(title,songs,filter) {
		var _gthis = this;
		var totalNumber = songs.length;
		var _g = 0;
		while(_g < filter.length) {
			var f = filter[_g];
			++_g;
			console.log("src/Client.hx:142:",songs.length);
			switch(f._hx_index) {
			case 0:
				break;
			case 1:
				songs = songs.filter((function(cat) {
					return function(song) {
						console.log("src/Client.hx:147:",Std.string(song.category) + " " + Std.string(cat[0]));
						var e = song.category;
						return $hxEnums[e.__enum__].__constructs__[e._hx_index] == $hxEnums[cat[0].__enum__].__constructs__[cat[0]._hx_index];
					};
				})([f.cat]));
				break;
			case 2:
				songs = songs.filter((function(prod) {
					return function(song1) {
						return song1.producer == prod[0];
					};
				})([f.prod]));
				break;
			case 3:
				songs = ds__$ImmutableArray_ImmutableArray_$Impl_$.array(ds__$ImmutableArray_ImmutableArray_$Impl_$.map(this.store.getGroup(f.groupname).songs,(function() {
					return function(songtitle) {
						return _gthis.store.getSong(songtitle);
					};
				})()));
				totalNumber = songs.length;
				break;
			case 4:
				songs = songs.slice(0,5);
				break;
			}
		}
		console.log("src/Client.hx:162:",songs.length);
		return m.m("article.center",[m.m("header",m.m("span",title),m.m("input[placeholder=Sök]")),m.m("ul",songs.map(function(song2) {
			var e1 = song2.producer;
			return m.m("li",[m.m(".thumb",m.m("img",{ src : "assets/scorx/" + $hxEnums[e1.__enum__].__constructs__[e1._hx_index] + ".png"})),m.m(".title",[m.m("h3",song2.title),m.m("p","Information...")]),m.m(".originators","Originators")]);
		})),m.m("footer",[m.m("button",{ onclick : function(e2) {
			return { };
		}},"Visa alla " + totalNumber)])]);
	}
	,__class__: Homeview
});
var Pageview = function(store) {
	AppStoreView.call(this,store);
	this.home = new Homeview(store);
};
$hxClasses["Pageview"] = Pageview;
Pageview.__name__ = true;
Pageview.__super__ = AppStoreView;
Pageview.prototype = $extend(AppStoreView.prototype,{
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		if(this.store.get_state().page._hx_index == 0) {
			return this.home.view();
		} else {
			return null;
		}
	}
	,__class__: Pageview
});
var MenuView = function(store) {
	AppStoreView.call(this,store);
};
$hxClasses["MenuView"] = MenuView;
MenuView.__name__ = true;
MenuView.__super__ = AppStoreView;
MenuView.prototype = $extend(AppStoreView.prototype,{
	view: function() {
		var _gthis = this;
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		return [m.m("button",{ onclick : function(e) {
			_gthis.store.resetToDefaultData();
			return;
		}},"Reset data")];
	}
	,__class__: MenuView
});
var Userview = function(store) {
	this.tryPassword = "adam1";
	this.tryUsername = "adam@adam.se";
	AppStoreView.call(this,store);
};
$hxClasses["Userview"] = Userview;
Userview.__name__ = true;
Userview.__super__ = AppStoreView;
Userview.prototype = $extend(AppStoreView.prototype,{
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		console.log("src/Client.hx:205:","userview");
		if(this.store.get_state().userId != null) {
			return this.user();
		} else {
			return this.guest();
		}
	}
	,user: function() {
		var _gthis = this;
		if(this.store.getUser() == null) {
			return null;
		}
		return [m.m("h3","Välkommen, " + this.store.getUser().firstname + "!"),m.m("button",{ onclick : function(e) {
			_gthis.store.logout();
			return;
		}},"Logga ut")];
	}
	,guest: function() {
		var _gthis = this;
		return [m.m("div",[m.m("input[placeholder=Användarnamn][required]",{ oninput : function(e) {
			return _gthis.tryUsername = e.target.value;
		}, value : this.tryUsername}),m.m("input[placeholder=Lösenord][required]",{ oninput : function(e1) {
			return _gthis.tryPassword = e1.target.value;
		}, value : this.tryPassword}),m.m("button",{ onclick : function(e2) {
			_gthis.store.tryLogin(_gthis.tryUsername,_gthis.tryPassword);
			return;
		}},"Logga in")])];
	}
	,__class__: Userview
});
var cx_DomComponentLazy = function() {
	this.el = null;
};
$hxClasses["cx.DomComponentLazy"] = cx_DomComponentLazy;
cx_DomComponentLazy.__name__ = true;
cx_DomComponentLazy.prototype = {
	set_el: function(el) {
		if(el == null) {
			throw new js__$Boot_HaxeError("DomComponentLazy parent element is null");
		}
		this.el = el;
		return this.el;
	}
	,setParent: function(el) {
		this.set_el(el);
		return this;
	}
	,view: function() {
		console.log("../fb-libs/src-cx/cx/DomTools.hx:260:","should be overridden!");
		return null;
	}
	,release: function() {
		console.log("../fb-libs/src-cx/cx/DomTools.hx:265:","Disconnect, should be overridden");
	}
	,render: function(element) {
		var _gthis = this;
		if(this.el == null && element != null) {
			this.set_el(element);
		}
		if(this.el == null) {
			console.log("../fb-libs/src-cx/cx/DomTools.hx:272:","DomComponentLazy No Render");
			return this;
		}
		this.el.innerHTML = "";
		var view = this.view();
		if(view == null) {
			return this;
		}
		switch(view._hx_index) {
		case 0:
			var span = window.document.createElement("span");
			span.innerText = view.v;
			this.el.appendChild(span);
			break;
		case 1:
			this.el.appendChild(view.v);
			break;
		case 2:
			view.v.map(function(v) {
				return _gthis.el.appendChild(v);
			});
			break;
		}
		return this;
	}
	,__class__: cx_DomComponentLazy
};
var CreateUserView = function(store) {
	cx_DomComponentLazy.call(this);
	this.store = store;
};
$hxClasses["CreateUserView"] = CreateUserView;
CreateUserView.__name__ = true;
CreateUserView.__super__ = cx_DomComponentLazy;
CreateUserView.prototype = $extend(cx_DomComponentLazy.prototype,{
	view: function() {
		var _gthis = this;
		this.first = "Nisse";
		this.last = "Kubik";
		this.user = "nisse@kubik.se";
		this.pass = "kubik";
		return cx_Either3.TypeB(cx_DomTools.form("Skapa användare",cx_Either3.TypeC([cx_DomTools.h1("Create user"),cx_DomTools.input(this.first,function(v) {
			return _gthis.first = v;
		},true,"Förnamn"),cx_DomTools.input(this.last,function(v1) {
			return _gthis.last = v1;
		},true,"Efternamn"),cx_DomTools.username(this.user,function(v2) {
			return _gthis.user = v2;
		},"E-post"),cx_DomTools.password(this.pass,function(v3) {
			return _gthis.pass = v3;
		},"Lösenord"),cx_DomTools.button("Skapa",function(e) {
			try {
				cx_Validation.asFirstname(_gthis.first);
				cx_Validation.asLastname(_gthis.last);
				cx_Validation.asEmail(_gthis.user);
				cx_Validation.asPassword(_gthis.pass);
				var newUser = { firstname : _gthis.first, lastname : _gthis.last, username : _gthis.user, password : _gthis.pass, sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), groups : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])};
				_gthis.store.addUser(newUser);
			} catch( e1 ) {
				js_Browser.alert(((e1) instanceof js__$Boot_HaxeError) ? e1.val : e1);
			}
			return;
		})])));
	}
	,__class__: CreateUserView
});
var DeepState = function() { };
$hxClasses["DeepState"] = DeepState;
DeepState.__name__ = true;
var DeepStateContainer = function(asset,observable) {
	this.observable = observable == null ? new ds_Observable() : observable;
	if(asset == null) {
		this.asset = null;
	} else {
		this.asset = ds_MiddlewareAccess.copy(asset,null,ds__$ImmutableArray_ImmutableArray_$Impl_$.concat(ds_MiddlewareAccess.middleware(asset),[$bind(this,this.updateMutableAsset)]));
		this.updateState({ type : "DeepStateContainer.new", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), value : asset.state}])});
	}
};
$hxClasses["DeepStateContainer"] = DeepStateContainer;
DeepStateContainer.__name__ = true;
DeepStateContainer.prototype = {
	get_state: function() {
		return this.asset.state;
	}
	,updateMutableAsset: function(asset,next,action) {
		var _gthis = this;
		return this.observable.observe(asset,function(a) {
			return _gthis.asset = next(a);
		},action);
	}
	,subscribeObserver: function(observer,immediateCall) {
		return this.observable.subscribeObserver(observer,immediateCall);
	}
	,updateState: function(action) {
		this.asset._updateState(action);
	}
	,__class__: DeepStateContainer
};
var EnclosedDeepStateContainer = function(encompassing,stateAccessor,statePath,observable) {
	DeepStateContainer.call(this,null,observable);
	this.encompassing = encompassing;
	this.stateAccessor = stateAccessor;
	this.statePath = statePath;
};
$hxClasses["EnclosedDeepStateContainer"] = EnclosedDeepStateContainer;
EnclosedDeepStateContainer.__name__ = true;
EnclosedDeepStateContainer.__super__ = DeepStateContainer;
EnclosedDeepStateContainer.prototype = $extend(DeepStateContainer.prototype,{
	get_state: function() {
		return this.stateAccessor();
	}
	,updateMutableAsset: function(asset,next,action) {
		return this.observable.observe(asset,next,action);
	}
	,updateState: function(action) {
		var tmp = this.encompassing;
		var action1 = action.type;
		var _g = [];
		var u = HxOverrides.iter(action.updates);
		while(u.hasNext()) {
			var u1 = u.next();
			_g.push({ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.concat(this.statePath,ds__$ImmutableArray_ImmutableArray_$Impl_$.toIterable(u1.path)), value : u1.value});
		}
		tmp.updateState({ type : action1, updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(_g)});
	}
	,__class__: EnclosedDeepStateContainer
});
var ds_gen_DeepState = function(state,stateTypes,stateType,middlewares) {
	if(state == null) {
		throw new js__$Boot_HaxeError("state is null");
	}
	this.state = state;
	this.stateTypes = stateTypes;
	this.stateType = stateType;
	this.middlewares = middlewares == null ? ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]) : middlewares;
};
$hxClasses["ds.gen.DeepState"] = ds_gen_DeepState;
ds_gen_DeepState.__name__ = true;
ds_gen_DeepState.prototype = {
	copyAsset: function(newState,middlewares) {
		throw new js__$Boot_HaxeError("DeepState.copyAsset must be overridden in subclass.");
	}
	,_createAndReplace: function(currentState,path,newValue) {
		var _gthis = this;
		var error = function() {
			throw new js__$Boot_HaxeError("Invalid DeepState update: " + Std.string(path) + " (" + Std.string(newValue) + ")");
		};
		var iter = HxOverrides.iter(path);
		var createNew = null;
		createNew = function(currentObject,curState) {
			if(!iter.hasNext()) {
				return newValue;
			} else {
				var _g = iter.next();
				switch(_g._hx_index) {
				case 0:
					var name = _g.name;
					switch(curState._hx_index) {
					case 10:
						var type = curState.type;
						var _this = _gthis.stateTypes;
						return createNew(currentObject,__map_reserved[type] != null ? _this.getReserved(type) : _this.h[type]);
					case 11:
						var fields = curState.fields;
						var data = Reflect.copy(currentObject);
						data[name] = createNew(Reflect.field(currentObject,name),__map_reserved[name] != null ? fields.getReserved(name) : fields.h[name]);
						return data;
					case 12:
						var fields1 = curState.fields;
						var cls = curState.cls;
						var data1 = { };
						var f = fields1.keys();
						while(f.hasNext()) {
							var f1 = f.next();
							data1[f1] = Reflect.field(currentObject,f1);
						}
						data1[name] = createNew(Reflect.field(currentObject,name),__map_reserved[name] != null ? fields1.getReserved(name) : fields1.h[name]);
						return Type.createInstance($hxClasses[cls],[data1]);
					default:
						error();
					}
					break;
				case 1:
					var index = _g.index;
					if(curState._hx_index == 13) {
						var newArray = currentObject.slice();
						newArray[index] = createNew(newArray[index],curState.type);
						return newArray;
					} else {
						error();
					}
					break;
				case 2:
					var key = _g.key;
					if(curState._hx_index == 14) {
						var currentMap = currentObject;
						var value = currentMap.get(key);
						return ds__$ImmutableMap_ImmutableMap_$Impl_$.set(currentMap,key,createNew(value,curState.type));
					} else {
						error();
					}
					break;
				}
			}
			return null;
		};
		return createNew(currentState,this.stateType);
	}
	,_updateState: function(action) {
		var _gthis = this;
		var dispatch = function(action1) {
			var newState = _gthis.state;
			var a = HxOverrides.iter(action1.updates);
			while(a.hasNext()) {
				var a1 = a.next();
				var path = [a1.path];
				var newValue = [a1.value];
				var _gthis1 = [_gthis];
				var error = [(function(newValue1,path1) {
					return function() {
						throw new js__$Boot_HaxeError("Invalid DeepState update: " + Std.string(path1[0]) + " (" + Std.string(newValue1[0]) + ")");
					};
				})(newValue,path)];
				var iter = [HxOverrides.iter(path[0])];
				var createNew = [null];
				var newState1 = (function(createNew1,iter1,error1,_gthis2,newValue2) {
					return function(currentObject,curState) {
						if(!iter1[0].hasNext()) {
							return newValue2[0];
						} else {
							var _g = iter1[0].next();
							switch(_g._hx_index) {
							case 0:
								var name = _g.name;
								switch(curState._hx_index) {
								case 10:
									var type = curState.type;
									var _this = _gthis2[0].stateTypes;
									return createNew1[0](currentObject,__map_reserved[type] != null ? _this.getReserved(type) : _this.h[type]);
								case 11:
									var fields = curState.fields;
									var data = Reflect.copy(currentObject);
									data[name] = createNew1[0](Reflect.field(currentObject,name),__map_reserved[name] != null ? fields.getReserved(name) : fields.h[name]);
									return data;
								case 12:
									var fields1 = curState.fields;
									var cls = curState.cls;
									var data1 = { };
									var f = fields1.keys();
									while(f.hasNext()) {
										var f1 = f.next();
										data1[f1] = Reflect.field(currentObject,f1);
									}
									data1[name] = createNew1[0](Reflect.field(currentObject,name),__map_reserved[name] != null ? fields1.getReserved(name) : fields1.h[name]);
									return Type.createInstance($hxClasses[cls],[data1]);
								default:
									error1[0]();
								}
								break;
							case 1:
								var index = _g.index;
								if(curState._hx_index == 13) {
									var newArray = currentObject.slice();
									newArray[index] = createNew1[0](newArray[index],curState.type);
									return newArray;
								} else {
									error1[0]();
								}
								break;
							case 2:
								var key = _g.key;
								if(curState._hx_index == 14) {
									var currentMap = currentObject;
									return ds__$ImmutableMap_ImmutableMap_$Impl_$.set(currentMap,key,createNew1[0](currentMap.get(key),curState.type));
								} else {
									error1[0]();
								}
								break;
							}
						}
						return null;
					};
				})(createNew,iter,error,_gthis1,newValue);
				createNew[0] = newState1;
				newState = createNew[0](newState,_gthis.stateType);
			}
			return _gthis.copyAsset(newState,_gthis.middlewares);
		};
		var m1 = HxOverrides.iter(ds__$ImmutableArray_ImmutableArray_$Impl_$.reverse(this.middlewares));
		while(m1.hasNext()) dispatch = (function(a2,a11,f2) {
			return function(a3) {
				return f2[0](a11[0],a2[0],a3);
			};
		})([dispatch],[this],[m1.next()]);
		return dispatch(action);
	}
	,__class__: ds_gen_DeepState
};
var ds_StateObjectType = $hxEnums["ds.StateObjectType"] = { __ename__ : true, __constructs__ : ["Bool","String","Int","Int32","Int64","Float","Date","Enumm","ImmutableList","ImmutableJson","Recursive","Anonymous","Instance","Array","Map"]
	,Bool: {_hx_index:0,__enum__:"ds.StateObjectType",toString:$estr}
	,String: {_hx_index:1,__enum__:"ds.StateObjectType",toString:$estr}
	,Int: {_hx_index:2,__enum__:"ds.StateObjectType",toString:$estr}
	,Int32: {_hx_index:3,__enum__:"ds.StateObjectType",toString:$estr}
	,Int64: {_hx_index:4,__enum__:"ds.StateObjectType",toString:$estr}
	,Float: {_hx_index:5,__enum__:"ds.StateObjectType",toString:$estr}
	,Date: {_hx_index:6,__enum__:"ds.StateObjectType",toString:$estr}
	,Enumm: {_hx_index:7,__enum__:"ds.StateObjectType",toString:$estr}
	,ImmutableList: {_hx_index:8,__enum__:"ds.StateObjectType",toString:$estr}
	,ImmutableJson: {_hx_index:9,__enum__:"ds.StateObjectType",toString:$estr}
	,Recursive: ($_=function(type) { return {_hx_index:10,type:type,__enum__:"ds.StateObjectType",toString:$estr}; },$_.__params__ = ["type"],$_)
	,Anonymous: ($_=function(fields) { return {_hx_index:11,fields:fields,__enum__:"ds.StateObjectType",toString:$estr}; },$_.__params__ = ["fields"],$_)
	,Instance: ($_=function(cls,fields) { return {_hx_index:12,cls:cls,fields:fields,__enum__:"ds.StateObjectType",toString:$estr}; },$_.__params__ = ["cls","fields"],$_)
	,Array: ($_=function(type) { return {_hx_index:13,type:type,__enum__:"ds.StateObjectType",toString:$estr}; },$_.__params__ = ["type"],$_)
	,Map: ($_=function(type) { return {_hx_index:14,type:type,__enum__:"ds.StateObjectType",toString:$estr}; },$_.__params__ = ["type"],$_)
};
var DeepState_$data_$AppState = function(initialState,middlewares) {
	var _this = DeepState_$data_$AppState._stateTypes;
	ds_gen_DeepState.call(this,initialState,DeepState_$data_$AppState._stateTypes,__map_reserved["data.AppState"] != null ? _this.getReserved("data.AppState") : _this.h["data.AppState"],middlewares);
};
$hxClasses["DeepState_data_AppState"] = DeepState_$data_$AppState;
DeepState_$data_$AppState.__name__ = true;
DeepState_$data_$AppState.__super__ = ds_gen_DeepState;
DeepState_$data_$AppState.prototype = $extend(ds_gen_DeepState.prototype,{
	updateState: function(action) {
		return js_Boot.__cast(this._updateState(action) , DeepState_$data_$AppState);
	}
	,copyAsset: function(newState,middlewares) {
		return new DeepState_$data_$AppState(newState == null ? this.state : newState,middlewares == null ? this.middlewares : middlewares);
	}
	,__class__: DeepState_$data_$AppState
});
var EReg = function(r,opt) {
	this.r = new RegExp(r,opt.split("u").join(""));
};
$hxClasses["EReg"] = EReg;
EReg.__name__ = true;
EReg.prototype = {
	match: function(s) {
		if(this.r.global) {
			this.r.lastIndex = 0;
		}
		this.r.m = this.r.exec(s);
		this.r.s = s;
		return this.r.m != null;
	}
	,__class__: EReg
};
var HxOverrides = function() { };
$hxClasses["HxOverrides"] = HxOverrides;
HxOverrides.__name__ = true;
HxOverrides.dateStr = function(date) {
	var m1 = date.getMonth() + 1;
	var d = date.getDate();
	var h = date.getHours();
	var mi = date.getMinutes();
	var s = date.getSeconds();
	return date.getFullYear() + "-" + (m1 < 10 ? "0" + m1 : "" + m1) + "-" + (d < 10 ? "0" + d : "" + d) + " " + (h < 10 ? "0" + h : "" + h) + ":" + (mi < 10 ? "0" + mi : "" + mi) + ":" + (s < 10 ? "0" + s : "" + s);
};
HxOverrides.substr = function(s,pos,len) {
	if(len == null) {
		len = s.length;
	} else if(len < 0) {
		if(pos == 0) {
			len = s.length + len;
		} else {
			return "";
		}
	}
	return s.substr(pos,len);
};
HxOverrides.remove = function(a,obj) {
	var i = a.indexOf(obj);
	if(i == -1) {
		return false;
	}
	a.splice(i,1);
	return true;
};
HxOverrides.iter = function(a) {
	return { cur : 0, arr : a, hasNext : function() {
		return this.cur < this.arr.length;
	}, next : function() {
		return this.arr[this.cur++];
	}};
};
var Lambda = function() { };
$hxClasses["Lambda"] = Lambda;
Lambda.__name__ = true;
Lambda.array = function(it) {
	var a = [];
	var i = $getIterator(it);
	while(i.hasNext()) a.push(i.next());
	return a;
};
Lambda.list = function(it) {
	var l = new haxe_ds_List();
	var i = $getIterator(it);
	while(i.hasNext()) l.add(i.next());
	return l;
};
Lambda.has = function(it,elt) {
	var x = $getIterator(it);
	while(x.hasNext()) if(x.next() == elt) {
		return true;
	}
	return false;
};
Lambda.exists = function(it,f) {
	var x = $getIterator(it);
	while(x.hasNext()) if(f(x.next())) {
		return true;
	}
	return false;
};
Lambda.foreach = function(it,f) {
	var x = $getIterator(it);
	while(x.hasNext()) if(!f(x.next())) {
		return false;
	}
	return true;
};
Lambda.iter = function(it,f) {
	var x = $getIterator(it);
	while(x.hasNext()) f(x.next());
};
Lambda.filter = function(it,f) {
	var _g = [];
	var x = $getIterator(it);
	while(x.hasNext()) {
		var x1 = x.next();
		if(f(x1)) {
			_g.push(x1);
		}
	}
	return _g;
};
Lambda.fold = function(it,f,first) {
	var x = $getIterator(it);
	while(x.hasNext()) first = f(x.next(),first);
	return first;
};
Lambda.count = function(it,pred) {
	var n = 0;
	if(pred == null) {
		var _ = $getIterator(it);
		while(_.hasNext()) {
			_.next();
			++n;
		}
	} else {
		var x = $getIterator(it);
		while(x.hasNext()) if(pred(x.next())) {
			++n;
		}
	}
	return n;
};
Lambda.empty = function(it) {
	return !$getIterator(it).hasNext();
};
Lambda.indexOf = function(it,v) {
	var i = 0;
	var v2 = $getIterator(it);
	while(v2.hasNext()) {
		if(v == v2.next()) {
			return i;
		}
		++i;
	}
	return -1;
};
Lambda.find = function(it,f) {
	var v = $getIterator(it);
	while(v.hasNext()) {
		var v1 = v.next();
		if(f(v1)) {
			return v1;
		}
	}
	return null;
};
Lambda.concat = function(a,b) {
	var l = [];
	var x = $getIterator(a);
	while(x.hasNext()) l.push(x.next());
	var x1 = $getIterator(b);
	while(x1.hasNext()) l.push(x1.next());
	return l;
};
Math.__name__ = true;
var Reflect = function() { };
$hxClasses["Reflect"] = Reflect;
Reflect.__name__ = true;
Reflect.field = function(o,field) {
	try {
		return o[field];
	} catch( e ) {
		return null;
	}
};
Reflect.fields = function(o) {
	var a = [];
	if(o != null) {
		var hasOwnProperty = Object.prototype.hasOwnProperty;
		for( var f in o ) {
		if(f != "__id__" && f != "hx__closures__" && hasOwnProperty.call(o,f)) {
			a.push(f);
		}
		}
	}
	return a;
};
Reflect.copy = function(o) {
	var o2 = { };
	var _g = 0;
	var _g1 = Reflect.fields(o);
	while(_g < _g1.length) {
		var f = _g1[_g];
		++_g;
		o2[f] = Reflect.field(o,f);
	}
	return o2;
};
var Std = function() { };
$hxClasses["Std"] = Std;
Std.__name__ = true;
Std.string = function(s) {
	return js_Boot.__string_rec(s,"");
};
var StringTools = function() { };
$hxClasses["StringTools"] = StringTools;
StringTools.__name__ = true;
StringTools.startsWith = function(s,start) {
	if(s.length >= start.length) {
		return HxOverrides.substr(s,0,start.length) == start;
	} else {
		return false;
	}
};
var Type = function() { };
$hxClasses["Type"] = Type;
Type.__name__ = true;
Type.createInstance = function(cl,args) {
	return new (Function.prototype.bind.apply(cl,[null].concat(args)));
};
var cx_ArrayItems = function() { };
$hxClasses["cx.ArrayItems"] = cx_ArrayItems;
cx_ArrayItems.__name__ = true;
cx_ArrayItems.first = function(array) {
	return array[0];
};
cx_ArrayItems.frst = function(array) {
	return array[0];
};
cx_ArrayItems.isFirst = function(array,item) {
	return array[0] == item;
};
cx_ArrayItems.last = function(array) {
	return array[array.length - 1];
};
cx_ArrayItems.lst = function(array) {
	return array[array.length - 1];
};
cx_ArrayItems.isLast = function(array,item) {
	return array[array.length - 1] == item;
};
cx_ArrayItems.secondLast = function(array) {
	return array[array.length - 2];
};
cx_ArrayItems.second = function(array) {
	return array[1];
};
cx_ArrayItems.third = function(array) {
	return array[2];
};
cx_ArrayItems.fourth = function(array) {
	return array[3];
};
cx_ArrayItems.fifth = function(array) {
	return array[4];
};
cx_ArrayItems.sixth = function(array) {
	return array[5];
};
cx_ArrayItems.seventh = function(array) {
	return array[6];
};
cx_ArrayItems.eighth = function(array) {
	return array[7];
};
cx_ArrayItems.nineth = function(array) {
	return array[8];
};
var cx_DomTools = function() { };
$hxClasses["cx.DomTools"] = cx_DomTools;
cx_DomTools.__name__ = true;
cx_DomTools.el = function(sel) {
	var el = window.document.querySelector(sel);
	if(el == null) {
		console.log("../fb-libs/src-cx/cx/DomTools.hx:15:","Can not find DOM element with selector " + sel);
		return null;
	}
	return el;
};
cx_DomTools.elClick = function(sel,cb) {
	var el = window.document.querySelector(sel);
	var tmp;
	if(el == null) {
		console.log("../fb-libs/src-cx/cx/DomTools.hx:15:","Can not find DOM element with selector " + sel);
		tmp = null;
	} else {
		tmp = el;
	}
	tmp.onclick = cb;
};
cx_DomTools.renderElements = function(target,items) {
	target.innerHTML = "";
	items.map(function(item) {
		return target.appendChild(item);
	});
};
cx_DomTools.interval = function(ms,fn) {
	window.setInterval(fn,ms);
};
cx_DomTools.create = function(elType,text) {
	var el = window.document.createElement(elType);
	if(text != null) {
		el.innerText = text;
	}
	return el;
};
cx_DomTools.setAttr = function(el,attr,value) {
	el.setAttribute(attr,value);
	return el;
};
cx_DomTools.elAttr = function(el,attr,value) {
	el.setAttribute(attr,value);
	return el;
};
cx_DomTools.elStyle = function(el,prop,value) {
	el.style.setProperty(prop,value);
	return el;
};
cx_DomTools.addListener = function(el,type,cb) {
	el.addEventListener(type,cb);
	return el;
};
cx_DomTools.append = function(el,ch) {
	switch(ch._hx_index) {
	case 0:
		var span = window.document.createElement("span");
		span.innerText = ch.v;
		el.appendChild(span);
		break;
	case 1:
		el.appendChild(ch.v);
		break;
	case 2:
		ch.v.filter(function(v) {
			return v != null;
		}).map(function(v1) {
			return el.appendChild(v1);
		});
		break;
	}
	return el;
};
cx_DomTools.mount = function(el,ch) {
	el.innerHTML = "";
	cx_DomTools.append(el,ch);
};
cx_DomTools.m2Button = function(label,onclick) {
	return cx_DomTools.m2("button",{ onclick : onclick},cx_Either3.TypeA(label));
};
cx_DomTools.m2h1 = function(text) {
	return cx_DomTools.m2("h1",null,cx_Either3.TypeA(text));
};
cx_DomTools.m2h2 = function(text) {
	return cx_DomTools.m2("h2",null,cx_Either3.TypeA(text));
};
cx_DomTools.m2h3 = function(text) {
	return cx_DomTools.m2("h3",null,cx_Either3.TypeA(text));
};
cx_DomTools.m2p = function(text) {
	return cx_DomTools.m2("p",null,cx_Either3.TypeA(text));
};
cx_DomTools.m2span = function(text) {
	return cx_DomTools.m2("span",null,cx_Either3.TypeA(text));
};
cx_DomTools.div = function(id,cls,children) {
	return cx_DomTools.m2("div",{ id : id, cls : cls},children);
};
cx_DomTools.section = function(id,cls,children) {
	return cx_DomTools.m2("section",{ id : id, cls : cls},children);
};
cx_DomTools.img = function(src) {
	return cx_DomTools.m2("img",{ src : src});
};
cx_DomTools.h1 = function(text) {
	return cx_DomTools.m2("h1",null,cx_Either3.TypeA(text));
};
cx_DomTools.h2 = function(text) {
	return cx_DomTools.m2("h2",null,cx_Either3.TypeA(text));
};
cx_DomTools.h3 = function(text) {
	return cx_DomTools.m2("h3",null,cx_Either3.TypeA(text));
};
cx_DomTools.p = function(text) {
	return cx_DomTools.m2("p",null,cx_Either3.TypeA(text));
};
cx_DomTools.span = function(text) {
	return cx_DomTools.m2("span",null,cx_Either3.TypeA(text));
};
cx_DomTools.input = function(value,cb,required,placeholder) {
	if(placeholder == null) {
		placeholder = "placeholder";
	}
	if(required == null) {
		required = true;
	}
	var input = cx_DomTools.m2("input",{ required : required, value : value, placeholder : placeholder});
	input.oninput = function(e) {
		cb(input.value);
		return;
	};
	return input;
};
cx_DomTools.username = function(value,cb,placeholder) {
	if(placeholder == null) {
		placeholder = "E-post";
	}
	var input = cx_DomTools.m2("input",{ required : true, value : value, placeholder : placeholder});
	input.oninput = function(e) {
		cb(input.value);
		return;
	};
	return input;
};
cx_DomTools.password = function(value,cb,placeholder) {
	if(placeholder == null) {
		placeholder = "Lösenord";
	}
	var input = cx_DomTools.m2("input",{ type : "password", required : true, value : value, placeholder : placeholder});
	input.oninput = function(e) {
		cb(input.value);
		return;
	};
	return input;
};
cx_DomTools.form = function(label,children) {
	return cx_DomTools.m2("form",null,cx_Either3.TypeC([cx_DomTools.h3(label)].concat(children._hx_index == 2 ? children.v : null)));
};
cx_DomTools.button = function(label,onclick) {
	return cx_DomTools.m2("button",{ onclick : onclick},cx_Either3.TypeA(label));
};
cx_DomTools.m2 = function(selectors,attr,children) {
	if(selectors == null || selectors == "") {
		throw new js__$Boot_HaxeError("DomTools.m2 selectore can not be null or empty string");
	}
	var selectors1 = cx_DomTools.parseSelectors(selectors);
	var id = selectors1.id;
	var classnames = selectors1.classnames;
	var el = window.document.createElement(selectors1.tag);
	if(id != null) {
		el.setAttribute("id",id);
	}
	if(classnames != null && classnames != []) {
		classnames.map(function(cln) {
			el.classList.add(cln);
			return;
		});
	}
	if(children != null) {
		switch(children._hx_index) {
		case 0:
			var span = window.document.createElement("span");
			span.innerText = children.v;
			el.appendChild(span);
			break;
		case 1:
			el.appendChild(children.v);
			break;
		case 2:
			children.v.filter(function(child) {
				return child != null;
			}).map(function(child1) {
				return el.appendChild(child1);
			});
			break;
		}
	}
	Reflect.fields(attr).map(function(field) {
		if(field == "style") {
			Reflect.fields(Reflect.field(attr,"style")).map(function(v) {
				el.style[v] = Reflect.field(Reflect.field(attr,"style"),v);
				return;
			});
		} else {
			var value = Reflect.field(attr,field);
			if(field == "cls") {
				field = "className";
			}
			el[field] = value;
		}
		return;
	});
	return el;
};
cx_DomTools.parseSelectors = function(s) {
	var a = s.split("");
	var seg = [a.shift()];
	var _g = 0;
	while(_g < a.length) {
		var c = a[_g];
		++_g;
		if(c == "#" || c == ".") {
			seg.push(c);
		} else {
			seg[seg.length - 1] += c;
		}
	}
	return { tag : seg[0], id : seg.filter(function(s1) {
		return StringTools.startsWith(s1,"#");
	}).map(function(s2) {
		return s2.substring(1);
	})[0], classnames : seg.filter(function(s3) {
		return StringTools.startsWith(s3,".");
	}).map(function(s4) {
		return s4.substring(1);
	})};
};
var cx_DomComponent = function(el,doRender) {
	if(doRender == null) {
		doRender = true;
	}
	this.el = null;
	this.el = el;
	this.setup();
	if(doRender) {
		this.render();
	}
};
$hxClasses["cx.DomComponent"] = cx_DomComponent;
cx_DomComponent.__name__ = true;
cx_DomComponent.prototype = {
	setup: function() {
	}
	,render: function(element) {
		var _gthis = this;
		console.log("../fb-libs/src-cx/cx/DomTools.hx:310:","render");
		this.el.innerHTML = "";
		var renderView = this.view();
		if(renderView == null) {
			return;
		}
		console.log("../fb-libs/src-cx/cx/DomTools.hx:318:","render2 " + (renderView._hx_index == 0 ? renderView.v : null));
		switch(renderView._hx_index) {
		case 0:
			console.log("../fb-libs/src-cx/cx/DomTools.hx:322:","render A");
			var span = window.document.createElement("span");
			span.innerText = renderView.v;
			this.el.appendChild(span);
			break;
		case 1:
			console.log("../fb-libs/src-cx/cx/DomTools.hx:327:","render B");
			this.el.appendChild(renderView.v);
			break;
		case 2:
			console.log("../fb-libs/src-cx/cx/DomTools.hx:330:","render C");
			renderView.v.map(function(v) {
				return _gthis.el.appendChild(v);
			});
			break;
		}
	}
	,view: function() {
		console.log("../fb-libs/src-cx/cx/DomTools.hx:336:","should be overridden!");
		return null;
	}
	,release: function() {
		console.log("../fb-libs/src-cx/cx/DomTools.hx:341:","Disconnect, should be overridden");
	}
	,__class__: cx_DomComponent
};
var cx_DomView = function() {
};
$hxClasses["cx.DomView"] = cx_DomView;
cx_DomView.__name__ = true;
cx_DomView.prototype = {
	view: function() {
		console.log("../fb-libs/src-cx/cx/DomTools.hx:349:","should be overridden!");
		return null;
	}
	,__class__: cx_DomView
};
var cx_Either3 = $hxEnums["cx.Either3"] = { __ename__ : true, __constructs__ : ["TypeA","TypeB","TypeC"]
	,TypeA: ($_=function(v) { return {_hx_index:0,v:v,__enum__:"cx.Either3",toString:$estr}; },$_.__params__ = ["v"],$_)
	,TypeB: ($_=function(v) { return {_hx_index:1,v:v,__enum__:"cx.Either3",toString:$estr}; },$_.__params__ = ["v"],$_)
	,TypeC: ($_=function(v) { return {_hx_index:2,v:v,__enum__:"cx.Either3",toString:$estr}; },$_.__params__ = ["v"],$_)
};
var cx__$DomTools_OneOf3_$Impl_$ = {};
$hxClasses["cx._DomTools.OneOf3_Impl_"] = cx__$DomTools_OneOf3_$Impl_$;
cx__$DomTools_OneOf3_$Impl_$.__name__ = true;
cx__$DomTools_OneOf3_$Impl_$.fromA = function(v) {
	return cx_Either3.TypeA(v);
};
cx__$DomTools_OneOf3_$Impl_$.fromB = function(v) {
	return cx_Either3.TypeB(v);
};
cx__$DomTools_OneOf3_$Impl_$.fromC = function(v) {
	return cx_Either3.TypeC(v);
};
cx__$DomTools_OneOf3_$Impl_$.toA = function(this1) {
	if(this1._hx_index == 0) {
		return this1.v;
	} else {
		return null;
	}
};
cx__$DomTools_OneOf3_$Impl_$.toB = function(this1) {
	if(this1._hx_index == 1) {
		return this1.v;
	} else {
		return null;
	}
};
cx__$DomTools_OneOf3_$Impl_$.toC = function(this1) {
	if(this1._hx_index == 2) {
		return this1.v;
	} else {
		return null;
	}
};
var cx__$DomTools_Selector_$Impl_$ = {};
$hxClasses["cx._DomTools.Selector_Impl_"] = cx__$DomTools_Selector_$Impl_$;
cx__$DomTools_Selector_$Impl_$.__name__ = true;
cx__$DomTools_Selector_$Impl_$._new = function(el) {
	if(el == null) {
		throw new js__$Boot_HaxeError("Selector element is null");
	}
	return el;
};
cx__$DomTools_Selector_$Impl_$.fromString = function(s) {
	console.log("../fb-libs/src-cx/cx/DomTools.hx:401:","from string: " + s);
	return cx__$DomTools_Selector_$Impl_$._new(window.document.querySelector(s));
};
var cx_Random = function() { };
$hxClasses["cx.Random"] = cx_Random;
cx_Random.__name__ = true;
cx_Random.int = function(from,to) {
	return from + Math.floor((to - from + 1) * Math.random());
};
cx_Random.setFromArray = function(a,length) {
	if(length > a.length) {
		throw new js__$Boot_HaxeError("Set length can not be greater then array length");
	}
	var arr = a.slice();
	var res = [];
	var _g = 0;
	while(_g < length) {
		++_g;
		var pick = arr[Math.floor((arr.length - 1 + 1) * Math.random())];
		res.push(pick);
		HxOverrides.remove(arr,pick);
	}
	return res;
};
cx_Random.fromArray = function(arr) {
	if(arr != null && arr.length > 0) {
		return arr[Math.floor((arr.length - 1 + 1) * Math.random())];
	} else {
		return null;
	}
};
cx_Random.percent = function(val) {
	if(val <= 0) {
		return false;
	}
	if(val >= 100) {
		return true;
	}
	return val > Math.random() * 100;
};
var cx_Validation = function() { };
$hxClasses["cx.Validation"] = cx_Validation;
cx_Validation.__name__ = true;
cx_Validation.asFirstname = function(s,length) {
	if(length == null) {
		length = 2;
	}
	if(s.length < length) {
		throw new js__$Boot_HaxeError("First name is too short, must be " + length + " chars");
	}
	return s;
};
cx_Validation.asLastname = function(s,length) {
	if(length == null) {
		length = 3;
	}
	if(s.length < length) {
		throw new js__$Boot_HaxeError("Lastname is too short, must be " + length + " chars");
	}
	return s;
};
cx_Validation.asPassword = function(s,length) {
	if(length == null) {
		length = 3;
	}
	if(s.length < length) {
		throw new js__$Boot_HaxeError("Password is too short, must be " + length + " chars");
	}
	return s;
};
cx_Validation.asEmail = function(email) {
	if(!cx_Validation.emailReg.match(email)) {
		throw new js__$Boot_HaxeError("EmailAddress \"" + email + "\" is invalid");
	}
	return email;
};
var data_AppStore = function(initstate) {
	DeepStateContainer.call(this,initstate);
};
$hxClasses["data.AppStore"] = data_AppStore;
data_AppStore.__name__ = true;
data_AppStore.__super__ = DeepStateContainer;
data_AppStore.prototype = $extend(DeepStateContainer.prototype,{
	save: function(tag) {
		if(tag == null) {
			tag = "store";
		}
		window.localStorage.setItem(tag,JSON.stringify(this.get_state()));
	}
	,load: function(tag) {
		if(tag == null) {
			tag = "store";
		}
		try {
			var stateObj = JSON.parse(window.localStorage.getItem(tag));
			if(stateObj == null) {
				this.resetToDefaultData();
			} else {
				this.updateState({ type : "AppStore.load", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), value : stateObj},{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([ds_PathAccess.Field("page")]), value : data_Page.Home}])});
			}
		} catch( e ) {
			js_Browser.alert("Could not load state object form localStorage! " + Std.string(((e) instanceof js__$Boot_HaxeError) ? e.val : e));
		}
	}
	,addUser: function(user) {
		try {
			if(ds__$ImmutableArray_ImmutableArray_$Impl_$.filter(this.get_state().users,function(u) {
				return u.username == user.username;
			}).length > 0) {
				throw new js__$Boot_HaxeError("The username " + user.username + " already exists!");
			}
			this.updateState({ type : "AppStore.addUser", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([ds_PathAccess.Field("users")]), value : ds__$ImmutableArray_ImmutableArray_$Impl_$.push(ds__$ImmutableArray_ImmutableArray_$Impl_$.copy(this.get_state().users),user)}])});
			this.save();
		} catch( e ) {
			js_Browser.alert(((e) instanceof js__$Boot_HaxeError) ? e.val : e);
		}
	}
	,tryLogin: function(tryUsername,tryPassword) {
		var _gthis = this;
		try {
			console.log("src/data/AppStore.hx:45:",tryUsername);
			console.log("src/data/AppStore.hx:46:",this.get_state().users.length);
			var foundUser;
			var _g = ds__$ImmutableArray_ImmutableArray_$Impl_$.first(ds__$ImmutableArray_ImmutableArray_$Impl_$.filter(this.get_state().users,function(u) {
				return u.username == tryUsername;
			}));
			foundUser = _g._hx_index == 0 ? _g.v : null;
			if(foundUser == null) {
				throw new js__$Boot_HaxeError("User " + tryUsername + " does not exist");
			}
			if(foundUser.password != tryPassword) {
				throw new js__$Boot_HaxeError("Password is wrong " + Std.string(foundUser) + " : " + foundUser.password + " " + tryPassword);
			}
			haxe_Timer.delay(function() {
				_gthis.updateState({ type : "AppStore.tryLogin", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([ds_PathAccess.Field("userId")]), value : foundUser.username}])});
				_gthis.save();
				return;
			},100 + Math.floor(401 * Math.random()));
		} catch( e ) {
			js_Browser.alert(((e) instanceof js__$Boot_HaxeError) ? e.val : e);
			this.logout();
		}
	}
	,addSong: function(title) {
		this.updateState({ type : "AppStore.addSong", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([ds_PathAccess.Field("songs")]), value : ds__$ImmutableArray_ImmutableArray_$Impl_$.push(this.get_state().songs,{ title : title, category : data_SongCategory.Free, producer : data_SongProducer.Korakademin})}])});
	}
	,logout: function() {
		this.updateState({ type : "AppStore.logout", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([ds_PathAccess.Field("userId")]), value : null}])});
		this.save();
	}
	,getUser: function(findUsername) {
		if(findUsername == null) {
			findUsername = this.get_state().userId;
		}
		var _g = ds__$ImmutableArray_ImmutableArray_$Impl_$.first(ds__$ImmutableArray_ImmutableArray_$Impl_$.filter(this.get_state().users,function(u) {
			return u.username == findUsername;
		}));
		if(_g._hx_index == 0) {
			return _g.v;
		} else {
			return null;
		}
	}
	,getGroup: function(findGroupname) {
		var _g = ds__$ImmutableArray_ImmutableArray_$Impl_$.first(ds__$ImmutableArray_ImmutableArray_$Impl_$.filter(this.get_state().groups,function(group) {
			return group.name.toLowerCase() == findGroupname.toLowerCase();
		}));
		if(_g._hx_index == 0) {
			return _g.v;
		} else {
			return null;
		}
	}
	,getSong: function(findSongtitle) {
		var _g = ds__$ImmutableArray_ImmutableArray_$Impl_$.first(ds__$ImmutableArray_ImmutableArray_$Impl_$.filter(this.get_state().songs,function(song) {
			return song.title.toLowerCase() == findSongtitle.toLowerCase();
		}));
		if(_g._hx_index == 0) {
			return _g.v;
		} else {
			return null;
		}
	}
	,resetToDefaultData: function() {
		js_Browser.alert("Reset data");
		this.updateState({ type : "do reset", updates : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([{ path : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), value : { page : data_Page.Home, userId : null, users : data_Default.users(), groups : data_Default.groups(), songs : data_Default.songs()}}])});
		this.save();
	}
	,__class__: data_AppStore
});
var data_Page = $hxEnums["data.Page"] = { __ename__ : true, __constructs__ : ["Home","Other","CreateUser"]
	,Home: {_hx_index:0,__enum__:"data.Page",toString:$estr}
	,Other: {_hx_index:1,__enum__:"data.Page",toString:$estr}
	,CreateUser: {_hx_index:2,__enum__:"data.Page",toString:$estr}
};
var data_SongCategory = $hxEnums["data.SongCategory"] = { __ename__ : true, __constructs__ : ["Free","Protected","Commercial"]
	,Free: {_hx_index:0,__enum__:"data.SongCategory",toString:$estr}
	,Protected: {_hx_index:1,__enum__:"data.SongCategory",toString:$estr}
	,Commercial: {_hx_index:2,__enum__:"data.SongCategory",toString:$estr}
};
var data_SongProducer = $hxEnums["data.SongProducer"] = { __ename__ : true, __constructs__ : ["Korakademin","Other"]
	,Korakademin: {_hx_index:0,__enum__:"data.SongProducer",toString:$estr}
	,Other: {_hx_index:1,__enum__:"data.SongProducer",toString:$estr}
};
var data_SongFilter = $hxEnums["data.SongFilter"] = { __ename__ : true, __constructs__ : ["Search","Category","Producer","Group","LimitNumber"]
	,Search: ($_=function(str) { return {_hx_index:0,str:str,__enum__:"data.SongFilter",toString:$estr}; },$_.__params__ = ["str"],$_)
	,Category: ($_=function(cat) { return {_hx_index:1,cat:cat,__enum__:"data.SongFilter",toString:$estr}; },$_.__params__ = ["cat"],$_)
	,Producer: ($_=function(prod) { return {_hx_index:2,prod:prod,__enum__:"data.SongFilter",toString:$estr}; },$_.__params__ = ["prod"],$_)
	,Group: ($_=function(groupname) { return {_hx_index:3,groupname:groupname,__enum__:"data.SongFilter",toString:$estr}; },$_.__params__ = ["groupname"],$_)
	,LimitNumber: ($_=function(max) { return {_hx_index:4,max:max,__enum__:"data.SongFilter",toString:$estr}; },$_.__params__ = ["max"],$_)
};
var data_HomeCell = $hxEnums["data.HomeCell"] = { __ename__ : true, __constructs__ : ["Image","Title","Info","Button","Songlist"]
	,Image: ($_=function(url) { return {_hx_index:0,url:url,__enum__:"data.HomeCell",toString:$estr}; },$_.__params__ = ["url"],$_)
	,Title: ($_=function(title) { return {_hx_index:1,title:title,__enum__:"data.HomeCell",toString:$estr}; },$_.__params__ = ["title"],$_)
	,Info: ($_=function(info) { return {_hx_index:2,info:info,__enum__:"data.HomeCell",toString:$estr}; },$_.__params__ = ["info"],$_)
	,Button: ($_=function(label,onclick) { return {_hx_index:3,label:label,onclick:onclick,__enum__:"data.HomeCell",toString:$estr}; },$_.__params__ = ["label","onclick"],$_)
	,Songlist: ($_=function(title,songs,filter) { return {_hx_index:4,title:title,songs:songs,filter:filter,__enum__:"data.HomeCell",toString:$estr}; },$_.__params__ = ["title","songs","filter"],$_)
};
var data_Default = function() { };
$hxClasses["data.Default"] = data_Default;
data_Default.__name__ = true;
data_Default.users = function() {
	return [{ firstname : "Adam", lastname : "Adamsson", username : "adam@adam.se", password : "adam1", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(["Kommersiell06","Kommersiell06"]), groups : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(["Örkelhåla kyrkokör","Bromölla Bandidos"])},{ firstname : "Beda", lastname : "Bedassib", username : "beda@beda.se", password : "beda", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), groups : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])},{ firstname : "Örkel1", lastname : "Örkelsson", username : "orkel1@orkel.se", password : "orkel1", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), groups : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])},{ firstname : "Örkel2", lastname : "Örkelsson", username : "orkel2@orkel.se", password : "orkel2", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), groups : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])},{ firstname : "Örkel3", lastname : "Örkelsson", username : "orkel3@orkel.se", password : "orkel3", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), groups : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])},{ firstname : "Örkel4", lastname : "Örkelsson", username : "orkel4@orkel.se", password : "orkel4", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), groups : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])},{ firstname : "Bro1", lastname : "Brorsson", username : "bro1@bro.se", password : "bro1", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), groups : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])},{ firstname : "Bro2", lastname : "Brorsson", username : "bro2@bro.se", password : "bro2", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), groups : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])},{ firstname : "Bro3", lastname : "Brorsson", username : "bro3@bro.se", password : "bro3", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), groups : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])},{ firstname : "Bro4", lastname : "Brorsson", username : "bro4@bro.se", password : "bro4", sensus : false, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), groups : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([])}];
};
data_Default.groups = function() {
	return [{ name : "Örkelhåla kyrkokör", info : "Soli deo gloria. Plus vår körledare.", admins : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(["orkel1@orkel.se"]), members : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(["orkel1@orkel.se","orkel2@orkel.se","orkel3@orkel.se"]), sensus : true, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(["Sensus01","Sensus02","Sensus03"])},{ name : "Bromölla Bandidos", info : "Vi sjunger - ni pröjsar!", admins : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), members : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray([]), sensus : true, songs : ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(["Kommersiell01","Sensus01"])}];
};
data_Default.songs = function() {
	return [{ title : "Ave veum corpus", category : data_SongCategory.Free, producer : data_SongProducer.Korakademin},{ title : "Kommersiell titel", category : data_SongCategory.Commercial, producer : data_SongProducer.Other},{ title : "Gratis01", category : data_SongCategory.Free, producer : data_SongProducer.Korakademin},{ title : "Gratis02", category : data_SongCategory.Free, producer : data_SongProducer.Korakademin},{ title : "Gratis03", category : data_SongCategory.Free, producer : data_SongProducer.Korakademin},{ title : "Gratis04", category : data_SongCategory.Free, producer : data_SongProducer.Korakademin},{ title : "Gratis05", category : data_SongCategory.Free, producer : data_SongProducer.Korakademin},{ title : "Gratis06", category : data_SongCategory.Free, producer : data_SongProducer.Other},{ title : "Gratis07", category : data_SongCategory.Free, producer : data_SongProducer.Other},{ title : "Gratis08", category : data_SongCategory.Free, producer : data_SongProducer.Other},{ title : "Gratis09", category : data_SongCategory.Free, producer : data_SongProducer.Other},{ title : "Gratis10", category : data_SongCategory.Free, producer : data_SongProducer.Other},{ title : "Gratis11", category : data_SongCategory.Free, producer : data_SongProducer.Other},{ title : "Kommersiell01", category : data_SongCategory.Commercial, producer : data_SongProducer.Other},{ title : "Kommersiell02", category : data_SongCategory.Commercial, producer : data_SongProducer.Other},{ title : "Kommersiell03", category : data_SongCategory.Commercial, producer : data_SongProducer.Other},{ title : "Kommersiell04", category : data_SongCategory.Commercial, producer : data_SongProducer.Other},{ title : "Kommersiell05", category : data_SongCategory.Commercial, producer : data_SongProducer.Other},{ title : "Kommersiell06", category : data_SongCategory.Commercial, producer : data_SongProducer.Other},{ title : "Kommersiell07", category : data_SongCategory.Commercial, producer : data_SongProducer.Other},{ title : "Kommersiell08", category : data_SongCategory.Commercial, producer : data_SongProducer.Other},{ title : "Sensus01", category : data_SongCategory.Commercial, producer : data_SongProducer.Korakademin},{ title : "Sensus02", category : data_SongCategory.Commercial, producer : data_SongProducer.Korakademin},{ title : "Sensus03", category : data_SongCategory.Commercial, producer : data_SongProducer.Korakademin},{ title : "Sensus04", category : data_SongCategory.Commercial, producer : data_SongProducer.Korakademin},{ title : "Sensus05", category : data_SongCategory.Commercial, producer : data_SongProducer.Korakademin}];
};
var ds_PathAccess = $hxEnums["ds.PathAccess"] = { __ename__ : true, __constructs__ : ["Field","Array","Map"]
	,Field: ($_=function(name) { return {_hx_index:0,name:name,__enum__:"ds.PathAccess",toString:$estr}; },$_.__params__ = ["name"],$_)
	,Array: ($_=function(index) { return {_hx_index:1,index:index,__enum__:"ds.PathAccess",toString:$estr}; },$_.__params__ = ["index"],$_)
	,Map: ($_=function(key) { return {_hx_index:2,key:key,__enum__:"ds.PathAccess",toString:$estr}; },$_.__params__ = ["key"],$_)
};
var ds__$ImmutableArray_ImmutableArray_$Impl_$ = {};
$hxClasses["ds._ImmutableArray.ImmutableArray_Impl_"] = ds__$ImmutableArray_ImmutableArray_$Impl_$;
ds__$ImmutableArray_ImmutableArray_$Impl_$.__name__ = true;
ds__$ImmutableArray_ImmutableArray_$Impl_$.arrayAccess = function(this1,key) {
	return this1[key];
};
ds__$ImmutableArray_ImmutableArray_$Impl_$._new = function(array) {
	return array;
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray = function(array) {
	return array.slice();
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.toIterable = function(this1) {
	return this1;
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.copy = function(this1) {
	return this1.slice();
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.insert = function(this1,pos,x) {
	var newArray = this1.slice();
	newArray.splice(pos,0,x);
	return ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(newArray);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.pop = function(this1) {
	var newArray = this1.slice();
	newArray.pop();
	return ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(newArray);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.push = function(this1,x) {
	var newArray = this1.slice();
	newArray.push(x);
	return ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(newArray);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.remove = function(this1,x) {
	var newArray = this1.slice();
	if(HxOverrides.remove(newArray,x)) {
		return ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(newArray);
	} else {
		return this1;
	}
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.resize = function(this1,len) {
	var newArray = this1.slice();
	newArray.length = len;
	return ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(newArray);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.reverse = function(this1) {
	var newArray = this1.slice();
	newArray.reverse();
	return ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(newArray);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.shift = function(this1) {
	var newArray = this1.slice();
	newArray.shift();
	return ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(newArray);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.slice = function(this1,pos,end) {
	return this1.slice(pos,end);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.sort = function(this1,f) {
	var newArray = this1.slice();
	newArray.sort(f);
	return ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(newArray);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.splice = function(this1,pos,len) {
	var newArray = this1.slice();
	newArray.splice(pos,len);
	return ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(newArray);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.unshift = function(this1,x) {
	var newArray = this1.slice();
	newArray.unshift(x);
	return ds__$ImmutableArray_ImmutableArray_$Impl_$.fromArray(newArray);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.first = function(this1) {
	if(this1.length == 0) {
		return haxe_ds_Option.None;
	} else {
		return haxe_ds_Option.Some(this1[0]);
	}
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.last = function(this1) {
	if(this1.length == 0) {
		return haxe_ds_Option.None;
	} else {
		return haxe_ds_Option.Some(this1[this1.length - 1]);
	}
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.array = function(this1) {
	return Lambda.array(this1);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.concat = function(this1,b) {
	return Lambda.array(Lambda.concat(this1,b));
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.count = function(this1,f) {
	return Lambda.count(this1,f);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.empty = function(this1) {
	return Lambda.empty(this1);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.exists = function(this1,f) {
	return Lambda.exists(this1,f);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.filter = function(this1,f) {
	return Lambda.array(Lambda.filter(this1,f));
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.find = function(this1,f) {
	return Lambda.find(this1,f);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.flatMap = function(this1,f) {
	var _g = [];
	var x = HxOverrides.iter(this1);
	while(x.hasNext()) _g.push(f(x.next()));
	var _g1 = [];
	var e = $getIterator(_g);
	while(e.hasNext()) {
		var x1 = $getIterator(e.next());
		while(x1.hasNext()) _g1.push(x1.next());
	}
	return Lambda.array(_g1);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.fold = function(this1,f,first) {
	return Lambda.fold(this1,f,first);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.foreach = function(this1,f) {
	return Lambda.foreach(this1,f);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.has = function(this1,elt) {
	return Lambda.has(this1,elt);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.indexOf = function(this1,v) {
	return Lambda.indexOf(this1,v);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.iter = function(this1,f) {
	Lambda.iter(this1,f);
	return;
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.list = function(this1) {
	return Lambda.list(this1);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.map = function(this1,f) {
	var _g = [];
	var x = HxOverrides.iter(this1);
	while(x.hasNext()) _g.push(f(x.next()));
	return Lambda.array(_g);
};
ds__$ImmutableArray_ImmutableArray_$Impl_$.mapi = function(this1,f) {
	var i = 0;
	var _g = [];
	var x = HxOverrides.iter(this1);
	while(x.hasNext()) _g.push(f(i++,x.next()));
	return Lambda.array(_g);
};
var ds__$ImmutableMap_ImmutableMap_$Impl_$ = {};
$hxClasses["ds._ImmutableMap.ImmutableMap_Impl_"] = ds__$ImmutableMap_ImmutableMap_$Impl_$;
ds__$ImmutableMap_ImmutableMap_$Impl_$.__name__ = true;
ds__$ImmutableMap_ImmutableMap_$Impl_$.copy = function(this1) {
	return this1.copy();
};
ds__$ImmutableMap_ImmutableMap_$Impl_$.set = function(this1,key,value) {
	var newMap = this1.copy();
	newMap.set(key,value);
	return newMap;
};
ds__$ImmutableMap_ImmutableMap_$Impl_$.remove = function(this1,key) {
	var newMap = this1.copy();
	newMap.remove(key);
	return newMap;
};
var ds_MiddlewareAccess = function() { };
$hxClasses["ds.MiddlewareAccess"] = ds_MiddlewareAccess;
ds_MiddlewareAccess.__name__ = true;
ds_MiddlewareAccess.middleware = function(asset) {
	return asset.middlewares;
};
ds_MiddlewareAccess.copy = function(asset,newState,middlewares) {
	return asset.copyAsset(newState,middlewares);
};
ds_MiddlewareAccess.allStateTypes = function(asset) {
	return asset.stateTypes;
};
ds_MiddlewareAccess.currentStateType = function(asset) {
	return asset.stateType;
};
var ds_Observable = function() {
	this.observers = [];
};
$hxClasses["ds.Observable"] = ds_Observable;
ds_Observable.__name__ = true;
ds_Observable.prototype = {
	subscribeObserver: function(observer,immediateCall) {
		var _gthis = this;
		this.observers.push(observer);
		if(immediateCall != null) {
			this.observeState(observer,immediateCall,immediateCall,true);
		}
		return new ds_Subscription(function() {
			HxOverrides.remove(_gthis.observers,observer);
		});
	}
	,observe: function(asset,next,action) {
		var newState = next(action);
		var _g = 0;
		var _g1 = this.observers;
		while(_g < _g1.length) this.observeState(_g1[_g++],asset.state,newState.state);
		return newState;
	}
	,observeState: function(observer,previousState,newState,shouldCall) {
		if(shouldCall == null) {
			shouldCall = false;
		}
		var getFieldInState = function(state,path) {
			if(path == "") {
				return state;
			}
			var output = state;
			var _g = 0;
			var _g1 = path.split(".");
			while(_g < _g1.length) {
				var p = _g1[_g];
				++_g;
				if(!Object.prototype.hasOwnProperty.call(output,p)) {
					throw new js__$Boot_HaxeError("Field not found in state: " + path);
				}
				output = Reflect.field(output,p);
			}
			return output;
		};
		switch(observer._hx_index) {
		case 0:
			var listener = observer.listener;
			var parameters = [];
			var path1 = HxOverrides.iter(observer.paths);
			while(path1.hasNext()) {
				var path2 = path1.next();
				var prevValue = shouldCall ? null : getFieldInState(previousState,path2);
				var currentValue = getFieldInState(newState,path2);
				shouldCall = shouldCall || prevValue != currentValue;
				parameters.push(currentValue);
			}
			if(shouldCall) {
				listener.apply(null,parameters);
			}
			break;
		case 1:
			observer.listener(previousState,newState);
			break;
		}
	}
	,__class__: ds_Observable
};
var ds_Observer = $hxEnums["ds.Observer"] = { __ename__ : true, __constructs__ : ["Partial","Full"]
	,Partial: ($_=function(paths,listener) { return {_hx_index:0,paths:paths,listener:listener,__enum__:"ds.Observer",toString:$estr}; },$_.__params__ = ["paths","listener"],$_)
	,Full: ($_=function(listener) { return {_hx_index:1,listener:listener,__enum__:"ds.Observer",toString:$estr}; },$_.__params__ = ["listener"],$_)
};
var ds_Subscription = function(unsubscribeObserver) {
	this.unsubscribeObserver = unsubscribeObserver;
	this.closed = false;
};
$hxClasses["ds.Subscription"] = ds_Subscription;
ds_Subscription.__name__ = true;
ds_Subscription.prototype = {
	unsubscribe: function() {
		if(this.closed) {
			return;
		}
		this.closed = true;
		this.unsubscribeObserver();
	}
	,__class__: ds_Subscription
};
var haxe_IMap = function() { };
$hxClasses["haxe.IMap"] = haxe_IMap;
haxe_IMap.__name__ = true;
haxe_IMap.prototype = {
	__class__: haxe_IMap
};
var haxe_Timer = function(time_ms) {
	var me = this;
	this.id = setInterval(function() {
		me.run();
	},time_ms);
};
$hxClasses["haxe.Timer"] = haxe_Timer;
haxe_Timer.__name__ = true;
haxe_Timer.delay = function(f,time_ms) {
	var t = new haxe_Timer(time_ms);
	t.run = function() {
		t.stop();
		f();
	};
	return t;
};
haxe_Timer.prototype = {
	stop: function() {
		if(this.id == null) {
			return;
		}
		clearInterval(this.id);
		this.id = null;
	}
	,run: function() {
	}
	,__class__: haxe_Timer
};
var haxe_ds_List = function() {
	this.length = 0;
};
$hxClasses["haxe.ds.List"] = haxe_ds_List;
haxe_ds_List.__name__ = true;
haxe_ds_List.prototype = {
	add: function(item) {
		var x = new haxe_ds__$List_ListNode(item,null);
		if(this.h == null) {
			this.h = x;
		} else {
			this.q.next = x;
		}
		this.q = x;
		this.length++;
	}
	,__class__: haxe_ds_List
};
var haxe_ds__$List_ListNode = function(item,next) {
	this.item = item;
	this.next = next;
};
$hxClasses["haxe.ds._List.ListNode"] = haxe_ds__$List_ListNode;
haxe_ds__$List_ListNode.__name__ = true;
haxe_ds__$List_ListNode.prototype = {
	__class__: haxe_ds__$List_ListNode
};
var haxe_ds_Option = $hxEnums["haxe.ds.Option"] = { __ename__ : true, __constructs__ : ["Some","None"]
	,Some: ($_=function(v) { return {_hx_index:0,v:v,__enum__:"haxe.ds.Option",toString:$estr}; },$_.__params__ = ["v"],$_)
	,None: {_hx_index:1,__enum__:"haxe.ds.Option",toString:$estr}
};
var haxe_ds_StringMap = function() {
	this.h = { };
};
$hxClasses["haxe.ds.StringMap"] = haxe_ds_StringMap;
haxe_ds_StringMap.__name__ = true;
haxe_ds_StringMap.__interfaces__ = [haxe_IMap];
haxe_ds_StringMap.prototype = {
	set: function(key,value) {
		if(__map_reserved[key] != null) {
			this.setReserved(key,value);
		} else {
			this.h[key] = value;
		}
	}
	,get: function(key) {
		if(__map_reserved[key] != null) {
			return this.getReserved(key);
		}
		return this.h[key];
	}
	,setReserved: function(key,value) {
		if(this.rh == null) {
			this.rh = { };
		}
		this.rh["$" + key] = value;
	}
	,getReserved: function(key) {
		if(this.rh == null) {
			return null;
		} else {
			return this.rh["$" + key];
		}
	}
	,existsReserved: function(key) {
		if(this.rh == null) {
			return false;
		}
		return this.rh.hasOwnProperty("$" + key);
	}
	,remove: function(key) {
		if(__map_reserved[key] != null) {
			key = "$" + key;
			if(this.rh == null || !this.rh.hasOwnProperty(key)) {
				return false;
			}
			delete(this.rh[key]);
			return true;
		} else {
			if(!this.h.hasOwnProperty(key)) {
				return false;
			}
			delete(this.h[key]);
			return true;
		}
	}
	,keys: function() {
		return HxOverrides.iter(this.arrayKeys());
	}
	,arrayKeys: function() {
		var out = [];
		for( var key in this.h ) {
		if(this.h.hasOwnProperty(key)) {
			out.push(key);
		}
		}
		if(this.rh != null) {
			for( var key in this.rh ) {
			if(key.charCodeAt(0) == 36) {
				out.push(key.substr(1));
			}
			}
		}
		return out;
	}
	,copy: function() {
		var copied = new haxe_ds_StringMap();
		var key = this.keys();
		while(key.hasNext()) {
			var key1 = key.next();
			var value = __map_reserved[key1] != null ? this.getReserved(key1) : this.h[key1];
			if(__map_reserved[key1] != null) {
				copied.setReserved(key1,value);
			} else {
				copied.h[key1] = value;
			}
		}
		return copied;
	}
	,__class__: haxe_ds_StringMap
};
var js__$Boot_HaxeError = function(val) {
	Error.call(this);
	this.val = val;
	if(Error.captureStackTrace) {
		Error.captureStackTrace(this,js__$Boot_HaxeError);
	}
};
$hxClasses["js._Boot.HaxeError"] = js__$Boot_HaxeError;
js__$Boot_HaxeError.__name__ = true;
js__$Boot_HaxeError.__super__ = Error;
js__$Boot_HaxeError.prototype = $extend(Error.prototype,{
	__class__: js__$Boot_HaxeError
});
var js_Boot = function() { };
$hxClasses["js.Boot"] = js_Boot;
js_Boot.__name__ = true;
js_Boot.getClass = function(o) {
	if(((o) instanceof Array) && o.__enum__ == null) {
		return Array;
	} else {
		var cl = o.__class__;
		if(cl != null) {
			return cl;
		}
		var name = js_Boot.__nativeClassName(o);
		if(name != null) {
			return js_Boot.__resolveNativeClass(name);
		}
		return null;
	}
};
js_Boot.__string_rec = function(o,s) {
	if(o == null) {
		return "null";
	}
	if(s.length >= 5) {
		return "<...>";
	}
	var t = typeof(o);
	if(t == "function" && (o.__name__ || o.__ename__)) {
		t = "object";
	}
	switch(t) {
	case "function":
		return "<function>";
	case "object":
		if(o.__enum__) {
			var e = $hxEnums[o.__enum__];
			var n = e.__constructs__[o._hx_index];
			var con = e[n];
			if(con.__params__) {
				s += "\t";
				var tmp = n + "(";
				var _g = [];
				var _g1 = 0;
				var _g2 = con.__params__;
				while(_g1 < _g2.length) {
					var p = _g2[_g1];
					++_g1;
					_g.push(js_Boot.__string_rec(o[p],s));
				}
				return tmp + _g.join(",") + ")";
			} else {
				return n;
			}
		}
		if(((o) instanceof Array)) {
			var l = o.length;
			var i;
			var str = "[";
			s += "\t";
			var _g3 = 0;
			var _g11 = l;
			while(_g3 < _g11) {
				var i1 = _g3++;
				str += (i1 > 0 ? "," : "") + js_Boot.__string_rec(o[i1],s);
			}
			str += "]";
			return str;
		}
		var tostr;
		try {
			tostr = o.toString;
		} catch( e1 ) {
			var e2 = ((e1) instanceof js__$Boot_HaxeError) ? e1.val : e1;
			return "???";
		}
		if(tostr != null && tostr != Object.toString && typeof(tostr) == "function") {
			var s2 = o.toString();
			if(s2 != "[object Object]") {
				return s2;
			}
		}
		var k = null;
		var str1 = "{\n";
		s += "\t";
		var hasp = o.hasOwnProperty != null;
		for( var k in o ) {
		if(hasp && !o.hasOwnProperty(k)) {
			continue;
		}
		if(k == "prototype" || k == "__class__" || k == "__super__" || k == "__interfaces__" || k == "__properties__") {
			continue;
		}
		if(str1.length != 2) {
			str1 += ", \n";
		}
		str1 += s + k + " : " + js_Boot.__string_rec(o[k],s);
		}
		s = s.substring(1);
		str1 += "\n" + s + "}";
		return str1;
	case "string":
		return o;
	default:
		return String(o);
	}
};
js_Boot.__interfLoop = function(cc,cl) {
	if(cc == null) {
		return false;
	}
	if(cc == cl) {
		return true;
	}
	if(Object.prototype.hasOwnProperty.call(cc,"__interfaces__")) {
		var intf = cc.__interfaces__;
		var _g = 0;
		var _g1 = intf.length;
		while(_g < _g1) {
			var i = intf[_g++];
			if(i == cl || js_Boot.__interfLoop(i,cl)) {
				return true;
			}
		}
	}
	return js_Boot.__interfLoop(cc.__super__,cl);
};
js_Boot.__instanceof = function(o,cl) {
	if(cl == null) {
		return false;
	}
	switch(cl) {
	case Array:
		return ((o) instanceof Array);
	case Bool:
		return typeof(o) == "boolean";
	case Dynamic:
		return o != null;
	case Float:
		return typeof(o) == "number";
	case Int:
		if(typeof(o) == "number") {
			return ((o | 0) === o);
		} else {
			return false;
		}
		break;
	case String:
		return typeof(o) == "string";
	default:
		if(o != null) {
			if(typeof(cl) == "function") {
				if(((o) instanceof cl)) {
					return true;
				}
				if(js_Boot.__interfLoop(js_Boot.getClass(o),cl)) {
					return true;
				}
			} else if(typeof(cl) == "object" && js_Boot.__isNativeObj(cl)) {
				if(((o) instanceof cl)) {
					return true;
				}
			}
		} else {
			return false;
		}
		if(cl == Class ? o.__name__ != null : false) {
			return true;
		}
		if(cl == Enum ? o.__ename__ != null : false) {
			return true;
		}
		if(o.__enum__ != null) {
			return $hxEnums[o.__enum__] == cl;
		} else {
			return false;
		}
	}
};
js_Boot.__cast = function(o,t) {
	if(o == null || js_Boot.__instanceof(o,t)) {
		return o;
	} else {
		throw new js__$Boot_HaxeError("Cannot cast " + Std.string(o) + " to " + Std.string(t));
	}
};
js_Boot.__nativeClassName = function(o) {
	var name = js_Boot.__toStr.call(o).slice(8,-1);
	if(name == "Object" || name == "Function" || name == "Math" || name == "JSON") {
		return null;
	}
	return name;
};
js_Boot.__isNativeObj = function(o) {
	return js_Boot.__nativeClassName(o) != null;
};
js_Boot.__resolveNativeClass = function(name) {
	return $global[name];
};
var js_Browser = function() { };
$hxClasses["js.Browser"] = js_Browser;
js_Browser.__name__ = true;
js_Browser.alert = function(v) {
	window.alert(js_Boot.__string_rec(v,""));
};
var pushstate_PushState = function() { };
$hxClasses["pushstate.PushState"] = pushstate_PushState;
pushstate_PushState.__name__ = true;
pushstate_PushState.init = function(basePath,triggerFirst,ignoreAnchors) {
	if(ignoreAnchors == null) {
		ignoreAnchors = true;
	}
	if(triggerFirst == null) {
		triggerFirst = true;
	}
	if(basePath == null) {
		basePath = "";
	}
	pushstate_PushState.listeners = [];
	pushstate_PushState.preventers = [];
	pushstate_PushState.uploadCache = new haxe_ds_StringMap();
	pushstate_PushState.basePath = basePath;
	pushstate_PushState.ignoreAnchors = ignoreAnchors;
	window.document.addEventListener("DOMContentLoaded",function(event) {
		window.document.addEventListener("click",function(e) {
			if(e.button == 0 && !e.metaKey && !e.ctrlKey) {
				var link = null;
				var value = e.target;
				var node = ((value) instanceof Node) ? value : null;
				while(link == null && node != null) {
					link = ((node) instanceof HTMLAnchorElement) ? node : null;
					node = node.parentNode;
				}
				if(link != null && (link.rel == "pushstate" || link.classList.contains("pushstate"))) {
					pushstate_PushState.push(link.pathname + link.search + link.hash);
					e.preventDefault();
				}
			}
		});
		window.document.addEventListener("submit",function(e1) {
			var value1 = e1.target;
			var form = ((value1) instanceof HTMLFormElement) ? value1 : null;
			if(form.classList.contains("pushstate")) {
				e1.preventDefault();
				pushstate_PushState.interceptFormSubmit(form);
			}
		});
		window.onpopstate = pushstate_PushState.handleOnPopState;
		if(triggerFirst) {
			pushstate_PushState.handleOnPopState(null);
		} else {
			pushstate_PushState.currentPath = pushstate_PushState.stripURL(window.document.location.pathname + window.document.location.search + window.document.location.hash);
			pushstate_PushState.currentState = null;
			pushstate_PushState.currentUploads = null;
		}
	});
};
pushstate_PushState.hasClass = function(elm,className) {
	return elm.classList.contains(className);
};
pushstate_PushState.interceptFormSubmit = function(form) {
	var params = [];
	var uploads = null;
	var addParam = function(name,val) {
		if(name == null || name == "") {
			return;
		}
		params.push({ name : name, val : val});
	};
	var addUpload = function(name1,files) {
		var _g = 0;
		var _g1 = files.length;
		while(_g < _g1) addParam(name1,files[_g++].name);
		if(uploads == null) {
			uploads = { };
		}
		uploads[name1] = files;
	};
	var _g2 = 0;
	var _g11 = form.elements.length;
	while(_g2 < _g11) {
		var elm = form.elements.item(_g2++);
		switch(elm.nodeName.toUpperCase()) {
		case "INPUT":
			var input = ((elm) instanceof HTMLInputElement) ? elm : null;
			switch(input.type) {
			case "file":
				if(input.files != null && input.files.length > 0) {
					addUpload(input.name,input.files);
				}
				break;
			case "checkbox":case "radio":
				if(input.checked) {
					addParam(input.name,input.value);
				}
				break;
			case "color":case "date":case "datetime":case "datetime-local":case "email":case "hidden":case "month":case "number":case "password":case "range":case "search":case "tel":case "text":case "time":case "url":case "week":
				addParam(input.name,input.value);
				break;
			}
			break;
		case "SELECT":
			var select = ((elm) instanceof HTMLSelectElement) ? elm : null;
			switch(select.type) {
			case "select-multiple":
				var _g3 = 0;
				var _g12 = select.options.length;
				while(_g3 < _g12) {
					var option = select.options[_g3++];
					if(option.selected) {
						addParam(select.name,option.value);
					}
				}
				break;
			case "select-one":
				addParam(select.name,select.value);
				break;
			}
			break;
		case "TEXTAREA":
			var ta = ((elm) instanceof HTMLTextAreaElement) ? elm : null;
			addParam(ta.name,ta.value);
			break;
		}
	}
	var value = window.document.activeElement;
	var activeInput = ((value) instanceof HTMLInputElement) ? value : null;
	var value1 = window.document.activeElement;
	var activeBtn = ((value1) instanceof HTMLButtonElement) ? value1 : null;
	if(activeInput != null && activeInput.type == "submit") {
		addParam(activeInput.name,activeInput.value);
	} else if(activeBtn != null && activeBtn.type == "submit") {
		addParam(activeBtn.name,activeBtn.value);
	} else {
		var defaultSubmit = form.querySelector("input[type=submit], button[type=submit]");
		var defaultInput = ((defaultSubmit) instanceof HTMLInputElement) ? defaultSubmit : null;
		var defaultBtn = ((defaultSubmit) instanceof HTMLButtonElement) ? defaultSubmit : null;
		if(defaultInput != null) {
			addParam(defaultInput.name,defaultInput.value);
		} else if(defaultBtn != null) {
			addParam(defaultBtn.name,defaultBtn.value);
		}
	}
	var paramString = params.map(function(p) {
		var s = p.val;
		return "" + p.name + "=" + encodeURIComponent(s);
	}).join("&");
	if(form.method.toUpperCase() == "POST") {
		var paramsObj = { };
		var _g21 = 0;
		while(_g21 < params.length) {
			var p1 = params[_g21];
			++_g21;
			if(Object.prototype.hasOwnProperty.call(paramsObj,p1.name)) {
				Reflect.field(paramsObj,p1.name).push(p1.val);
			} else {
				paramsObj[p1.name] = [p1.val];
			}
		}
		paramsObj["__postData"] = paramString;
		if(uploads != null) {
			pushstate_PushState.setUploadsForState(form.action,paramsObj,uploads);
		}
		pushstate_PushState.push(form.action,paramsObj,uploads);
	} else {
		pushstate_PushState.push(form.action + "?" + paramString,null);
	}
};
pushstate_PushState.setUploadsForState = function(url,state,uploads) {
	var uploadCacheID = "" + url + "-" + HxOverrides.dateStr(new Date()) + "-" + Math.random();
	var _this = pushstate_PushState.uploadCache;
	if(__map_reserved[uploadCacheID] != null) {
		_this.setReserved(uploadCacheID,uploads);
	} else {
		_this.h[uploadCacheID] = uploads;
	}
	state["__postFilesCacheID"] = uploadCacheID;
};
pushstate_PushState.getUploadsForState = function(state) {
	if(state == null || Object.prototype.hasOwnProperty.call(state,"__postFilesCacheID") == false) {
		return null;
	}
	var uploadCacheID = state.__postFilesCacheID;
	var _this = pushstate_PushState.uploadCache;
	if((__map_reserved[uploadCacheID] != null ? _this.existsReserved(uploadCacheID) : _this.h.hasOwnProperty(uploadCacheID)) == false) {
		console.log("../fb-libs/src-cx/pushstate/PushState.hx:214:","Upload files with cache ID " + uploadCacheID + " is not available anymore");
		return null;
	} else {
		var _this1 = pushstate_PushState.uploadCache;
		if(__map_reserved[uploadCacheID] != null) {
			return _this1.getReserved(uploadCacheID);
		} else {
			return _this1.h[uploadCacheID];
		}
	}
};
pushstate_PushState.handleOnPopState = function(e) {
	var path = pushstate_PushState.stripURL(window.document.location.pathname + window.document.location.search + window.document.location.hash);
	var state = e != null ? e.state : null;
	var uploads;
	if(state != null && state.__postFilesCacheID != null) {
		var key = state.__postFilesCacheID;
		var _this = pushstate_PushState.uploadCache;
		uploads = __map_reserved[key] != null ? _this.getReserved(key) : _this.h[key];
	} else {
		uploads = null;
	}
	if(pushstate_PushState.ignoreAnchors && path == pushstate_PushState.currentPath) {
		return;
	}
	if(e != null) {
		var _g = 0;
		var _g1 = pushstate_PushState.preventers;
		while(_g < _g1.length) if(!_g1[_g++](path,state,uploads)) {
			e.preventDefault();
			window.history.replaceState(pushstate_PushState.currentState,"",pushstate_PushState.currentPath);
			return;
		}
	}
	pushstate_PushState.currentPath = path;
	pushstate_PushState.currentState = state;
	pushstate_PushState.currentUploads = pushstate_PushState.getUploadsForState(state);
	pushstate_PushState.dispatch(pushstate_PushState.currentPath,pushstate_PushState.currentState,pushstate_PushState.currentUploads);
	return;
};
pushstate_PushState.stripURL = function(path) {
	if(HxOverrides.substr(path,0,pushstate_PushState.basePath.length) == pushstate_PushState.basePath) {
		path = HxOverrides.substr(path,pushstate_PushState.basePath.length,null);
	}
	if(pushstate_PushState.ignoreAnchors && path.indexOf("#") > -1) {
		path = HxOverrides.substr(path,0,path.indexOf("#"));
	}
	return path;
};
pushstate_PushState.addEventListener = function(l1,l2,l3) {
	var l;
	if(l1 != null) {
		l = l1;
	} else if(l2 != null) {
		l = function(url,state,_) {
			l2(url,state);
		};
	} else if(l3 != null) {
		l = function(url1,_1,_2) {
			l3(url1);
		};
	} else {
		throw new js__$Boot_HaxeError("No listener provided");
	}
	pushstate_PushState.listeners.push(l);
	return l;
};
pushstate_PushState.removeEventListener = function(l) {
	HxOverrides.remove(pushstate_PushState.listeners,l);
};
pushstate_PushState.clearEventListeners = function() {
	while(pushstate_PushState.listeners.length > 0) pushstate_PushState.listeners.pop();
};
pushstate_PushState.addPreventer = function(p1,p2,p3) {
	var p;
	if(p1 != null) {
		p = p1;
	} else if(p2 != null) {
		p = function(url,state,_) {
			return p2(url,state);
		};
	} else if(p3 != null) {
		p = function(url1,_1,_2) {
			return p3(url1);
		};
	} else {
		throw new js__$Boot_HaxeError("No preventer provided");
	}
	pushstate_PushState.preventers.push(p);
	return p;
};
pushstate_PushState.removePreventer = function(p) {
	HxOverrides.remove(pushstate_PushState.preventers,p);
};
pushstate_PushState.clearPreventers = function() {
	while(pushstate_PushState.preventers.length > 0) pushstate_PushState.preventers.pop();
};
pushstate_PushState.dispatch = function(url,state,uploads) {
	var _g = 0;
	var _g1 = pushstate_PushState.listeners;
	while(_g < _g1.length) _g1[_g++](url,state,uploads);
};
pushstate_PushState.push = function(url,state,uploads) {
	var strippedURL = pushstate_PushState.stripURL(url);
	if(state == null) {
		state = { };
	}
	var _g = 0;
	var _g1 = pushstate_PushState.preventers;
	while(_g < _g1.length) if(!_g1[_g++](strippedURL,state,uploads)) {
		return false;
	}
	pushstate_PushState.setUploadsForState(strippedURL,state,uploads);
	window.history.pushState(state,"",url);
	pushstate_PushState.currentPath = strippedURL;
	pushstate_PushState.currentState = state;
	pushstate_PushState.currentUploads = uploads;
	pushstate_PushState.dispatch(strippedURL,state,uploads);
	return true;
};
pushstate_PushState.replace = function(url,state,uploads) {
	var strippedURL = pushstate_PushState.stripURL(url);
	if(state == null) {
		state = { };
	}
	var _g = 0;
	var _g1 = pushstate_PushState.preventers;
	while(_g < _g1.length) if(!_g1[_g++](strippedURL,state,uploads)) {
		return false;
	}
	pushstate_PushState.silentReplace(url,state,uploads);
	pushstate_PushState.dispatch(strippedURL,state,uploads);
	return true;
};
pushstate_PushState.silentReplace = function(url,state,uploads) {
	var strippedURL = pushstate_PushState.stripURL(url);
	if(state == null) {
		state = { };
	}
	pushstate_PushState.setUploadsForState(strippedURL,state,uploads);
	window.history.replaceState(state,"",url);
	pushstate_PushState.currentPath = strippedURL;
	pushstate_PushState.currentState = state;
	pushstate_PushState.currentUploads = uploads;
};
function $getIterator(o) { if( o instanceof Array ) return HxOverrides.iter(o); else return o.iterator(); }
var $fid = 0;
function $bind(o,m) { if( m == null ) return null; if( m.__id__ == null ) m.__id__ = $fid++; var f; if( o.hx__closures__ == null ) o.hx__closures__ = {}; else f = o.hx__closures__[m.__id__]; if( f == null ) { f = m.bind(o); o.hx__closures__[m.__id__] = f; } return f; }
$hxClasses["Math"] = Math;
String.prototype.__class__ = $hxClasses["String"] = String;
String.__name__ = true;
$hxClasses["Array"] = Array;
Array.__name__ = true;
Date.prototype.__class__ = $hxClasses["Date"] = Date;
Date.__name__ = "Date";
var Int = { };
var Dynamic = { };
var Float = Number;
var Bool = Boolean;
var Class = { };
var Enum = { };
var __map_reserved = {};
Object.defineProperty(js__$Boot_HaxeError.prototype,"message",{ get : function() {
	return String(this.val);
}});
js_Boot.__toStr = ({ }).toString;
try {
var __varName = window.m;
(function(m) {
			if (m.m) return;
			m.m = function() {
				try { 
					for(var i=0; i < arguments.length; ++i) if(arguments[i] instanceof List) {
						var list = arguments[i].h; arguments[i] = [];
						while(list != null) { arguments[i].push(l[0]); list = l[1]; }
					}
				} catch(e) {}
				return m.apply(this, arguments);
			}
		})(__varName);
} catch(_) {}
try {
global.m = require("mithril");
var __varName1 = global.m;
(function(m) {
			if (m.m) return;
			m.m = function() {
				try { 
					for(var i=0; i < arguments.length; ++i) if(arguments[i] instanceof List) {
						var list = arguments[i].h; arguments[i] = [];
						while(list != null) { arguments[i].push(l[0]); list = l[1]; }
					}
				} catch(e) {}
				return m.apply(this, arguments);
			}
		})(__varName1);
} catch(_) {}
DeepState_$data_$AppState._stateTypes = (function($this) {
	var $r;
	var _g7 = new haxe_ds_StringMap();
	{
		var _g = new haxe_ds_StringMap();
		var value = ds_StateObjectType.String;
		if(__map_reserved["username"] != null) {
			_g.setReserved("username",value);
		} else {
			_g.h["username"] = value;
		}
		var value1 = ds_StateObjectType.Array(ds_StateObjectType.String);
		if(__map_reserved["songs"] != null) {
			_g.setReserved("songs",value1);
		} else {
			_g.h["songs"] = value1;
		}
		var value2 = ds_StateObjectType.Bool;
		if(__map_reserved["sensus"] != null) {
			_g.setReserved("sensus",value2);
		} else {
			_g.h["sensus"] = value2;
		}
		var value3 = ds_StateObjectType.String;
		if(__map_reserved["password"] != null) {
			_g.setReserved("password",value3);
		} else {
			_g.h["password"] = value3;
		}
		var value4 = ds_StateObjectType.String;
		if(__map_reserved["lastname"] != null) {
			_g.setReserved("lastname",value4);
		} else {
			_g.h["lastname"] = value4;
		}
		var value5 = ds_StateObjectType.Array(ds_StateObjectType.String);
		if(__map_reserved["groups"] != null) {
			_g.setReserved("groups",value5);
		} else {
			_g.h["groups"] = value5;
		}
		var value6 = ds_StateObjectType.String;
		if(__map_reserved["firstname"] != null) {
			_g.setReserved("firstname",value6);
		} else {
			_g.h["firstname"] = value6;
		}
		var value7 = ds_StateObjectType.Anonymous(_g);
		if(__map_reserved["data.User"] != null) {
			_g7.setReserved("data.User",value7);
		} else {
			_g7.h["data.User"] = value7;
		}
	}
	{
		var _g1 = new haxe_ds_StringMap();
		var value8 = ds_StateObjectType.String;
		if(__map_reserved["title"] != null) {
			_g1.setReserved("title",value8);
		} else {
			_g1.h["title"] = value8;
		}
		var value9 = ds_StateObjectType.Enumm;
		if(__map_reserved["producer"] != null) {
			_g1.setReserved("producer",value9);
		} else {
			_g1.h["producer"] = value9;
		}
		var value10 = ds_StateObjectType.Enumm;
		if(__map_reserved["category"] != null) {
			_g1.setReserved("category",value10);
		} else {
			_g1.h["category"] = value10;
		}
		var value11 = ds_StateObjectType.Anonymous(_g1);
		if(__map_reserved["data.Song"] != null) {
			_g7.setReserved("data.Song",value11);
		} else {
			_g7.h["data.Song"] = value11;
		}
	}
	{
		var _g2 = new haxe_ds_StringMap();
		var value12 = ds_StateObjectType.Array(ds_StateObjectType.String);
		if(__map_reserved["songs"] != null) {
			_g2.setReserved("songs",value12);
		} else {
			_g2.h["songs"] = value12;
		}
		var value13 = ds_StateObjectType.Bool;
		if(__map_reserved["sensus"] != null) {
			_g2.setReserved("sensus",value13);
		} else {
			_g2.h["sensus"] = value13;
		}
		var value14 = ds_StateObjectType.String;
		if(__map_reserved["name"] != null) {
			_g2.setReserved("name",value14);
		} else {
			_g2.h["name"] = value14;
		}
		var value15 = ds_StateObjectType.Array(ds_StateObjectType.String);
		if(__map_reserved["members"] != null) {
			_g2.setReserved("members",value15);
		} else {
			_g2.h["members"] = value15;
		}
		var value16 = ds_StateObjectType.String;
		if(__map_reserved["info"] != null) {
			_g2.setReserved("info",value16);
		} else {
			_g2.h["info"] = value16;
		}
		var value17 = ds_StateObjectType.Array(ds_StateObjectType.String);
		if(__map_reserved["admins"] != null) {
			_g2.setReserved("admins",value17);
		} else {
			_g2.h["admins"] = value17;
		}
		var value18 = ds_StateObjectType.Anonymous(_g2);
		if(__map_reserved["data.Group"] != null) {
			_g7.setReserved("data.Group",value18);
		} else {
			_g7.h["data.Group"] = value18;
		}
	}
	{
		var _g6 = new haxe_ds_StringMap();
		var _g3 = new haxe_ds_StringMap();
		var value19 = ds_StateObjectType.String;
		if(__map_reserved["username"] != null) {
			_g3.setReserved("username",value19);
		} else {
			_g3.h["username"] = value19;
		}
		var value20 = ds_StateObjectType.Array(ds_StateObjectType.String);
		if(__map_reserved["songs"] != null) {
			_g3.setReserved("songs",value20);
		} else {
			_g3.h["songs"] = value20;
		}
		var value21 = ds_StateObjectType.Bool;
		if(__map_reserved["sensus"] != null) {
			_g3.setReserved("sensus",value21);
		} else {
			_g3.h["sensus"] = value21;
		}
		var value22 = ds_StateObjectType.String;
		if(__map_reserved["password"] != null) {
			_g3.setReserved("password",value22);
		} else {
			_g3.h["password"] = value22;
		}
		var value23 = ds_StateObjectType.String;
		if(__map_reserved["lastname"] != null) {
			_g3.setReserved("lastname",value23);
		} else {
			_g3.h["lastname"] = value23;
		}
		var value24 = ds_StateObjectType.Array(ds_StateObjectType.String);
		if(__map_reserved["groups"] != null) {
			_g3.setReserved("groups",value24);
		} else {
			_g3.h["groups"] = value24;
		}
		var value25 = ds_StateObjectType.String;
		if(__map_reserved["firstname"] != null) {
			_g3.setReserved("firstname",value25);
		} else {
			_g3.h["firstname"] = value25;
		}
		var value26 = ds_StateObjectType.Array(ds_StateObjectType.Anonymous(_g3));
		if(__map_reserved["users"] != null) {
			_g6.setReserved("users",value26);
		} else {
			_g6.h["users"] = value26;
		}
		var value27 = ds_StateObjectType.String;
		if(__map_reserved["userId"] != null) {
			_g6.setReserved("userId",value27);
		} else {
			_g6.h["userId"] = value27;
		}
		var _g4 = new haxe_ds_StringMap();
		var value28 = ds_StateObjectType.String;
		if(__map_reserved["title"] != null) {
			_g4.setReserved("title",value28);
		} else {
			_g4.h["title"] = value28;
		}
		var value29 = ds_StateObjectType.Enumm;
		if(__map_reserved["producer"] != null) {
			_g4.setReserved("producer",value29);
		} else {
			_g4.h["producer"] = value29;
		}
		var value30 = ds_StateObjectType.Enumm;
		if(__map_reserved["category"] != null) {
			_g4.setReserved("category",value30);
		} else {
			_g4.h["category"] = value30;
		}
		var value31 = ds_StateObjectType.Array(ds_StateObjectType.Anonymous(_g4));
		if(__map_reserved["songs"] != null) {
			_g6.setReserved("songs",value31);
		} else {
			_g6.h["songs"] = value31;
		}
		var value32 = ds_StateObjectType.Enumm;
		if(__map_reserved["page"] != null) {
			_g6.setReserved("page",value32);
		} else {
			_g6.h["page"] = value32;
		}
		var _g5 = new haxe_ds_StringMap();
		var value33 = ds_StateObjectType.Array(ds_StateObjectType.String);
		if(__map_reserved["songs"] != null) {
			_g5.setReserved("songs",value33);
		} else {
			_g5.h["songs"] = value33;
		}
		var value34 = ds_StateObjectType.Bool;
		if(__map_reserved["sensus"] != null) {
			_g5.setReserved("sensus",value34);
		} else {
			_g5.h["sensus"] = value34;
		}
		var value35 = ds_StateObjectType.String;
		if(__map_reserved["name"] != null) {
			_g5.setReserved("name",value35);
		} else {
			_g5.h["name"] = value35;
		}
		var value36 = ds_StateObjectType.Array(ds_StateObjectType.String);
		if(__map_reserved["members"] != null) {
			_g5.setReserved("members",value36);
		} else {
			_g5.h["members"] = value36;
		}
		var value37 = ds_StateObjectType.String;
		if(__map_reserved["info"] != null) {
			_g5.setReserved("info",value37);
		} else {
			_g5.h["info"] = value37;
		}
		var value38 = ds_StateObjectType.Array(ds_StateObjectType.String);
		if(__map_reserved["admins"] != null) {
			_g5.setReserved("admins",value38);
		} else {
			_g5.h["admins"] = value38;
		}
		var value39 = ds_StateObjectType.Array(ds_StateObjectType.Anonymous(_g5));
		if(__map_reserved["groups"] != null) {
			_g6.setReserved("groups",value39);
		} else {
			_g6.h["groups"] = value39;
		}
		var value40 = ds_StateObjectType.Anonymous(_g6);
		if(__map_reserved["data.AppState"] != null) {
			_g7.setReserved("data.AppState",value40);
		} else {
			_g7.h["data.AppState"] = value40;
		}
	}
	$r = _g7;
	return $r;
}(this));
cx_Validation.emailReg = new EReg("^[\\w-\\.]{2,}@[\\w-\\.]{2,}\\.[a-z]{2,6}$","i");
pushstate_PushState.ignoreAnchors = true;
Client.main();
})(typeof window != "undefined" ? window : typeof global != "undefined" ? global : typeof self != "undefined" ? self : this);
